(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[11],{304:function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var a=n(4),c=n(6),r=n(13),s=(n(1),n(113)),i=n(288),o=n(289),j=n(74),l=n(279),d=n(5),b=["className","onCancel","loading"],u=function(e){var t=e.className,n=e.onCancel,c=e.loading,s=Object(r.a)(e,b),u=Object(l.a)().t;return Object(d.jsxs)(i.a,{className:t,gutter:[10,10],wrap:!1,children:[Object(d.jsx)(o.a,{span:12,children:Object(d.jsx)(j.a,Object(a.a)(Object(a.a)({block:!0,type:"ghost",onClick:n},s),{},{children:u("common.cancel")}))}),Object(d.jsx)(o.a,{span:12,children:Object(d.jsx)(j.a,Object(a.a)(Object(a.a)({block:!0,type:"primary",loading:c,htmlType:"submit"},s),{},{children:u("common.save")}))})]})},O=n(171),m=n(172),f=n(173),h=["form","isFieldsChanged","setFieldsChanged","footer","loading","children"],x=function(e){var t=e.form,n=e.isFieldsChanged,i=e.setFieldsChanged,o=e.footer,j=e.loading,l=void 0!==j&&j,b=e.children,O=Object(r.a)(e,h),m=s.a.useForm(),f=Object(c.a)(m,1)[0],x=t||f;return Object(d.jsxs)(s.a,Object(a.a)(Object(a.a)({form:x},O),{},{children:[b,n&&(o||Object(d.jsx)(u,{loading:l,onCancel:function(){null===x||void 0===x||x.resetFields(),i&&i(!1)}}))]}))};x.Title=O.a,x.Item=m.a,x.List=f.a,x.useForm=s.a.useForm,x.Provider=s.a.Provider},311:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),c=function(){var e=Object(a.useRef)(!1);return Object(a.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),{isMounted:e}}},432:function(e,t,n){"use strict";n.r(t);var a,c,r=n(1),s=n(288),i=n(289),o=n(128),j=n(15),l=n(29),d=n(4),b=n(6),u=n(127),O=n(421),m=n(279),f=n(304),h=n(74),x=n(281),g=n(8),p=n(9),v=Object(p.c)(x.a)(a||(a=Object(g.a)(["\n  .ant-radio-disabled + span {\n    color: var(--disabled-color);\n  }\n"]))),C=(Object(p.c)(x.a.Button)(c||(c=Object(g.a)(["\n  &.ant-radio-button-wrapper-disabled {\n    color: var(--disabled-color);\n  }\n"]))),n(5)),F=x.a.Group,w=function(e){return Object(C.jsx)(v,Object(d.a)({},e))},y=n(98),k=n(174),S=n(311),P=n(169),E=n(178),T=n(92),I=n(18),N={labelCol:{span:24},wrapperCol:{span:24}},q=function(){var e=u.a.useForm(),t=Object(b.a)(e,1)[0],n=Object(r.useState)(!1),a=Object(b.a)(n,2),c=a[0],o=a[1],x=Object(m.a)().t,g=Object(S.a)().isMounted,p=Object(T.c)((function(e){return e.exam})),v=Object(T.b)(),q=Object(I.q)(),J=Object(I.o)(),L=Object(r.useState)({data:[],loading:!1}),M=Object(b.a)(L,2),R=M[0],z=M[1],A=Object(r.useCallback)((function(){z((function(e){return Object(d.a)(Object(d.a)({},e),{},{loading:!0})})),Object(k.d)(q.id).then((function(e){g.current&&z({data:e.data,loading:!1})})).catch((function(e){"Access token expired. Please log in again."==e.message&&(y.a.error({message:"Token Expired. Please Re-Login!"}),J("/logout"))}))}),[g,J,q]);Object(r.useEffect)((function(){A()}),[A]);var B=function(){var e=Object(l.a)(Object(j.a)().mark((function e(){var t;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o(!0),t=p,console.log(t),Object(k.f)(q.id,t).then((function(e){var t=e.message.match(/(\d+\.?\d+)/g);y.a.success({message:x("common.success")}),v(Object(E.d)(t)),J("/exam/result")}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=Object(r.useState)(1),Q=Object(b.a)(G,2),D=Q[0],H=Q[1];return Object(C.jsx)(f.a,Object(d.a)(Object(d.a)({},N),{},{isFieldsChanged:!0,name:"examForm",form:t,footer:Object(C.jsxs)(s.a,{gutter:[30,30],children:[Object(C.jsx)(i.a,{flex:"85%",children:Object(C.jsx)(O.a,{current:D,defaultPageSize:1,onChange:function(e){H(e)},total:R.data.length})}),Object(C.jsx)(i.a,{flex:"auto"}),Object(C.jsx)(i.a,{flex:"5%",children:Object(C.jsx)(f.a.Item,{children:Object(C.jsx)(h.a,{type:"primary",htmlType:"submit",loading:c,children:x("common.submit")})})})]}),onFinish:B,children:R.data&&R.data.length>0?R.data.slice(D-1,D).map((function(e){return Object(C.jsxs)(P.a,{id:"exam form",title:"Question "+e.no,padding:"1.25rem",style:{boxShadow:"none"},children:[Object(C.jsx)("label",{children:e.question}),Object(C.jsx)(f.a.Item,{name:e.no,children:Object(C.jsx)(F,{onChange:function(t){return function(e,t){var n={};n[t]=e.target.value,v(Object(E.c)(Object(d.a)(Object(d.a)({},p.answers),n)))}(t,e.no)},children:Object.entries(e.choices).map((function(e){var t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(C.jsx)("p",{children:Object(C.jsxs)(w,{value:n,children:[" ",a]},n)},n)}))})})]},e.no)})):Object(C.jsx)(P.a,{id:"exam form",loading:!0,padding:"1.25rem",style:{boxShadow:"none"}})}))};t.default=function(){return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(o.a,{children:"Start Exam"}),Object(C.jsx)(s.a,{gutter:[30,30],children:Object(C.jsx)(i.a,{xs:24,sm:24,xl:24,children:Object(C.jsx)(P.a,{id:"exam form",padding:"1.25rem",children:Object(C.jsx)(q,{})})})})]})}}}]);
//# sourceMappingURL=11.e827a040.chunk.js.map