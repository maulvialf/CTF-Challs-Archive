(this["webpackJsonplightence-admin"]=this["webpackJsonplightence-admin"]||[]).push([[15],{304:function(e,a,t){"use strict";t.d(a,"a",(function(){return h}));var s=t(4),r=t(6),n=t(13),c=(t(1),t(113)),i=t(288),o=t(289),l=t(74),m=t(279),j=t(5),d=["className","onCancel","loading"],u=function(e){var a=e.className,t=e.onCancel,r=e.loading,c=Object(n.a)(e,d),u=Object(m.a)().t;return Object(j.jsxs)(i.a,{className:a,gutter:[10,10],wrap:!1,children:[Object(j.jsx)(o.a,{span:12,children:Object(j.jsx)(l.a,Object(s.a)(Object(s.a)({block:!0,type:"ghost",onClick:t},c),{},{children:u("common.cancel")}))}),Object(j.jsx)(o.a,{span:12,children:Object(j.jsx)(l.a,Object(s.a)(Object(s.a)({block:!0,type:"primary",loading:r,htmlType:"submit"},c),{},{children:u("common.save")}))})]})},b=t(171),f=t(172),O=t(173),x=["form","isFieldsChanged","setFieldsChanged","footer","loading","children"],h=function(e){var a=e.form,t=e.isFieldsChanged,i=e.setFieldsChanged,o=e.footer,l=e.loading,m=void 0!==l&&l,d=e.children,b=Object(n.a)(e,x),f=c.a.useForm(),O=Object(r.a)(f,1)[0],h=a||O;return Object(j.jsxs)(c.a,Object(s.a)(Object(s.a)({form:h},b),{},{children:[d,t&&(o||Object(j.jsx)(u,{loading:m,onCancel:function(){null===h||void 0===h||h.resetFields(),i&&i(!1)}}))]}))};h.Title=b.a,h.Item=f.a,h.List=O.a,h.useForm=c.a.useForm,h.Provider=c.a.Provider},431:function(e,a,t){"use strict";t.r(a);var s,r=t(1),n=t(288),c=t(289),i=t(279),o=t(128),l=t(169),m=t(4),j=t(15),d=t(29),u=t(6),b=t(438),f=t(304),O=t(74),x=t(428),h=t(8),p=t(9),g=Object(p.c)(x.a)(s||(s=Object(h.a)([""]))),F=t(5),v=(x.a.Dragger,function(e){return Object(F.jsx)(g,Object(m.a)({},e))}),y=t(98),L=t(170),C=t(200),k=t(278),w=t(127),N=t(60),q=t(43),T=t(178),E=t(18),I=k.a.Text,P={labelCol:{span:24},wrapperCol:{span:24}},S=function(e){return Array.isArray(e)?e:null===e||void 0===e?void 0:e.fileList},V=function(){var e=w.a.useForm(),a=Object(u.a)(e,1)[0],t=Object(r.useState)(!1),s=Object(u.a)(t,2),n=s[0],c=s[1],o=Object(i.a)().t,l=Object(q.a)(),x=Object(E.o)(),h=function(){var e=Object(d.a)(Object(j.a)().mark((function e(){var a,t,s=arguments;return Object(j.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=s.length>0&&void 0!==s[0]?s[0]:{},c(!0),t={name:a.name,time_limit:a.duration,question_file:a.upload},l(Object(T.b)(t)).unwrap().then((function(){setTimeout((function(){c(!1),y.a.success({message:o("common.success")})}),1e3),x("/exam/list")})).catch((function(e){y.a.error({message:e.message})}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p={name:"file",action:"/api/v1/exam/upload",headers:{authorization:"Bearer ".concat(Object(N.f)())},onChange:function(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(a.setFieldsValue({upload:e.file.name}),y.a.success({message:"".concat(e.file.name," file uploaded successfully")})):"error"===e.file.status&&y.a.error({message:"".concat(e.file.name," file upload failed.")})}};return Object(F.jsxs)(f.a,Object(m.a)(Object(m.a)({},P),{},{isFieldsChanged:!0,name:"examForm",form:a,initialValues:{duration:60},footer:Object(F.jsx)(f.a.Item,{children:Object(F.jsx)(O.a,{type:"primary",htmlType:"submit",loading:n,children:o("common.submit")})}),onFinish:h,children:[Object(F.jsx)(f.a.Item,{name:"name",label:o("forms.examFormLabels.examName"),rules:[{required:!0,message:o("forms.examFormLabels.examNameError")}],children:Object(F.jsx)(L.a,{placeholder:"Exam Name"})}),Object(F.jsxs)(f.a.Item,{name:"duration",label:o("forms.examFormLabels.examDuration"),rules:[{required:!0,message:o("forms.examFormLabels.examNameError")}],children:[Object(F.jsx)(C.a,{min:60,max:180,placeholder:"60"}),Object(F.jsxs)("span",{children:[" ",o("forms.validationFormLabels.minutes")]})]}),Object(F.jsxs)(f.a.Item,{name:"upload",label:o("forms.examFormLabels.questionFile"),rules:[{required:!0,message:o("forms.examFormLabels.questionFileError")}],valuePropName:"fileList",getValueFromEvent:S,children:[Object(F.jsx)(v,Object(m.a)(Object(m.a)({},p),{},{children:Object(F.jsx)(O.a,{type:"default",icon:Object(F.jsx)(b.a,{}),children:o("forms.validationFormLabels.clickToUpload")})})),Object(F.jsxs)(I,{italic:!0,style:{fontSize:12},children:[o("forms.examFormLabels.downloadSample")," ",Object(F.jsxs)("a",{href:"/static/others/example.yml",target:"_blank",children:[" ","here"," "]})]})]})]}))};a.default=function(){var e=Object(i.a)().t;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(o.a,{children:e("common.examForms")}),Object(F.jsx)(n.a,{gutter:[30,30],children:Object(F.jsx)(c.a,{xs:24,sm:24,xl:24,children:Object(F.jsx)(l.a,{id:"exam form",title:e("forms.examForm"),padding:"1.25rem",children:Object(F.jsx)(V,{})})})})]})}}}]);
//# sourceMappingURL=15.8fc435e5.chunk.js.map