import{S as et,i as tt,s as Ne,c as nt,a as ce,e as H,b as X,d as xe,f as q,g as vt,h as w,j as fe,l as ue,u as rt,k as st,m as it,n as Ft,t as W,o as Gt,p as j,q as Ut,r as N,v as gn,w as Qe,x as Lt,y as Br,z as we,A as Ke,B as Re,C as dt,D as hn,E as Vr,F as Se,G as Z,H as Vs,I as Hr,J as Ze,K as Hs,L as qs,M as ft,N as qr,O as Ct,P as kr,Q as Pn,R as pe,T as me,U as jt,V as Ee,W as xt,X as ks,Y as zs,Z as Ys,_ as Ws,$ as mt,a0 as zr,a1 as Yr}from"./index-fc71ad6b.js";import{E as Xs}from"./Error-74362572.js";const js=e=>({}),wn=e=>({});function xs(e){let t;return{c(){t=dt(e[1])},m(n,r){w(n,t,r)},p(n,r){r&2&&hn(t,n[1])},d(n){n&&N(t)}}}function Nn(e){let t,n,r,s,a;const i=e[10].default,l=nt(i,e,e[9],null);return{c(){t=H("div"),n=H("div"),l&&l.c(),q(t,"class","hidden tab_content_placeholder")},m(o,u){w(o,t,u),fe(t,n),l&&l.m(n,null),r=!0,s||(a=Ke(e[3].call(null,n)),s=!0)},p(o,u){l&&l.p&&(!r||u&512)&&rt(l,i,o,o[9],r?it(i,o[9],u,null):st(o[9]),null)},i(o){r||(W(l,o),r=!0)},o(o){j(l,o),r=!1},d(o){o&&N(t),l&&l.d(o),s=!1,a()}}}function Qs(e){let t,n,r,s,a,i,l;const o=e[10].title,u=nt(o,e,e[9],wn),c=u||xs(e);let p=[{type:"button"},{role:"tab"},e[5],{class:e[2]}],m={};for(let f=0;f<p.length;f+=1)m=ce(m,p[f]);let _=e[0]&&Nn(e);return{c(){t=H("li"),n=H("button"),c&&c.c(),r=X(),_&&_.c(),xe(n,m),q(t,"class",s=vt("group",e[4].class)),q(t,"role","presentation")},m(f,E){w(f,t,E),fe(t,n),c&&c.m(n,null),n.autofocus&&n.focus(),fe(t,r),_&&_.m(t,null),a=!0,i||(l=[ue(n,"click",e[21]),ue(n,"blur",e[11]),ue(n,"click",e[12]),ue(n,"contextmenu",e[13]),ue(n,"focus",e[14]),ue(n,"keydown",e[15]),ue(n,"keypress",e[16]),ue(n,"keyup",e[17]),ue(n,"mouseenter",e[18]),ue(n,"mouseleave",e[19]),ue(n,"mouseover",e[20])],i=!0)},p(f,[E]){u?u.p&&(!a||E&512)&&rt(u,o,f,f[9],a?it(o,f[9],E,js):st(f[9]),wn):c&&c.p&&(!a||E&2)&&c.p(f,a?E:-1),xe(n,m=Ft(p,[{type:"button"},{role:"tab"},E&32&&f[5],(!a||E&4)&&{class:f[2]}])),f[0]?_?(_.p(f,E),E&1&&W(_,1)):(_=Nn(f),_.c(),W(_,1),_.m(t,null)):_&&(Gt(),j(_,1,1,()=>{_=null}),Ut()),(!a||E&16&&s!==(s=vt("group",f[4].class)))&&q(t,"class",s)},i(f){a||(W(c,f),W(_),a=!0)},o(f){j(c,f),j(_),a=!1},d(f){f&&N(t),c&&c.d(f),_&&_.d(),i=!1,gn(l)}}}function Ks(e,t,n){const r=["open","title","activeClasses","inactiveClasses","defaultClass"];let s=Qe(t,r),{$$slots:a={},$$scope:i}=t,{open:l=!1}=t,{title:o="Tab title"}=t,{activeClasses:u=void 0}=t,{inactiveClasses:c=void 0}=t,{defaultClass:p="inline-block text-sm font-medium text-center disabled:cursor-not-allowed"}=t;const m=Lt("ctx")??{},_=m.selected??Br();function f(g){return _.set(g),{destroy:_.subscribe(z=>{z!==g&&n(0,l=!1)})}}let E;function b(g){Re.call(this,e,g)}function h(g){Re.call(this,e,g)}function R(g){Re.call(this,e,g)}function D(g){Re.call(this,e,g)}function v(g){Re.call(this,e,g)}function M(g){Re.call(this,e,g)}function L(g){Re.call(this,e,g)}function U(g){Re.call(this,e,g)}function A(g){Re.call(this,e,g)}function O(g){Re.call(this,e,g)}const P=()=>n(0,l=!0);return e.$$set=g=>{n(4,t=ce(ce({},t),we(g))),n(5,s=Qe(t,r)),"open"in g&&n(0,l=g.open),"title"in g&&n(1,o=g.title),"activeClasses"in g&&n(6,u=g.activeClasses),"inactiveClasses"in g&&n(7,c=g.inactiveClasses),"defaultClass"in g&&n(8,p=g.defaultClass),"$$scope"in g&&n(9,i=g.$$scope)},e.$$.update=()=>{e.$$.dirty&449&&n(2,E=vt(p,l?u??m.activeClasses:c??m.inactiveClasses,l&&"active"))},t=we(t),[l,o,E,f,t,s,u,c,p,i,a,b,h,R,D,v,M,L,U,A,O,P]}class Qt extends et{constructor(t){super(),tt(this,t,Ks,Qs,Ne,{open:0,title:1,activeClasses:6,inactiveClasses:7,defaultClass:8})}}const Zs=e=>({style:e&2}),Fn=e=>({style:e[1]}),Js=e=>({style:e&2}),Gn=e=>({style:e[1]});function Un(e){let t;const n=e[9].divider,r=nt(n,e,e[8],Fn),s=r||$s();return{c(){s&&s.c()},m(a,i){s&&s.m(a,i),t=!0},p(a,i){r&&r.p&&(!t||i&258)&&rt(r,n,a,a[8],t?it(n,a[8],i,Zs):st(a[8]),Fn)},i(a){t||(W(s,a),t=!0)},o(a){j(s,a),t=!1},d(a){s&&s.d(a)}}}function $s(e){let t;return{c(){t=H("div"),q(t,"class","h-px bg-gray-200 dark:bg-gray-700")},m(n,r){w(n,t,r)},p:Se,d(n){n&&N(t)}}}function ei(e){let t,n,r,s,a,i,l;const o=e[9].default,u=nt(o,e,e[8],Gn);let c=e[0]&&Un(e);return{c(){t=H("ul"),u&&u.c(),n=X(),c&&c.c(),r=X(),s=H("div"),q(t,"class",e[3]),q(s,"class",e[2]),q(s,"role","tabpanel"),q(s,"aria-labelledby","id-tab")},m(p,m){w(p,t,m),u&&u.m(t,null),w(p,n,m),c&&c.m(p,m),w(p,r,m),w(p,s,m),a=!0,i||(l=Ke(e[4].call(null,s)),i=!0)},p(p,[m]){u&&u.p&&(!a||m&258)&&rt(u,o,p,p[8],a?it(o,p[8],m,Js):st(p[8]),Gn),(!a||m&8)&&q(t,"class",p[3]),p[0]?c?(c.p(p,m),m&1&&W(c,1)):(c=Un(p),c.c(),W(c,1),c.m(r.parentNode,r)):c&&(Gt(),j(c,1,1,()=>{c=null}),Ut()),(!a||m&4)&&q(s,"class",p[2])},i(p){a||(W(u,p),W(c),a=!0)},o(p){j(u,p),j(c),a=!1},d(p){p&&N(t),u&&u.d(p),p&&N(n),c&&c.d(p),p&&N(r),p&&N(s),i=!1,l()}}}const ti={full:"p-4 w-full group-first:rounded-l-lg group-last:rounded-r-lg text-gray-900 bg-gray-100 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:bg-gray-700 dark:text-white",pill:"py-3 px-4 text-white bg-blue-600 rounded-lg",underline:"p-4 text-blue-600 border-b-2 border-blue-600 dark:text-blue-500 dark:border-blue-500",none:""},ni={full:"p-4 w-full group-first:rounded-l-lg group-last:rounded-r-lg text-gray-500 dark:text-gray-400 bg-white hover:text-gray-700 hover:bg-gray-50 focus:ring-4 focus:ring-blue-300 focus:outline-none dark:hover:text-white dark:bg-gray-800 dark:hover:bg-gray-700",pill:"py-3 px-4 text-gray-500 rounded-lg hover:text-gray-900 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-white",underline:"p-4 border-b-2 border-transparent hover:text-gray-600 hover:border-gray-300 dark:hover:text-gray-300 text-gray-500 dark:text-gray-400",none:""};function ri(e,t,n){let r,{$$slots:s={},$$scope:a}=t,{style:i="none"}=t,{defaultClass:l="flex flex-wrap space-x-2"}=t,{contentClass:o="p-4 bg-gray-50 rounded-lg dark:bg-gray-800 mt-4"}=t,{divider:u=!0}=t,{activeClasses:c="p-4 text-blue-600 bg-gray-100 rounded-t-lg dark:bg-gray-800 dark:text-blue-500"}=t,{inactiveClasses:p="p-4 text-gray-500 rounded-t-lg hover:text-gray-600 hover:bg-gray-50 dark:text-gray-400 dark:hover:bg-gray-800 dark:hover:text-gray-300"}=t;const m={activeClasses:ti[i]||c,inactiveClasses:ni[i]||p,selected:Br()};Vr("ctx",m);function _(f){return{destroy:m.selected.subscribe(b=>{b&&f.replaceChildren(b)})}}return e.$$set=f=>{n(11,t=ce(ce({},t),we(f))),"style"in f&&n(1,i=f.style),"defaultClass"in f&&n(5,l=f.defaultClass),"contentClass"in f&&n(2,o=f.contentClass),"divider"in f&&n(0,u=f.divider),"activeClasses"in f&&n(6,c=f.activeClasses),"inactiveClasses"in f&&n(7,p=f.inactiveClasses),"$$scope"in f&&n(8,a=f.$$scope)},e.$$.update=()=>{e.$$.dirty&3&&n(0,u=["full","pill"].includes(i)?!1:u),n(3,r=vt(l,i==="underline"&&"-mb-px",t.class))},t=we(t),[u,i,o,r,_,l,c,p,a,s]}class si extends et{constructor(t){super(),tt(this,t,ri,ei,Ne,{style:1,defaultClass:5,contentClass:2,divider:0,activeClasses:6,inactiveClasses:7})}}/*!
 * FilePond 4.30.4
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ii=e=>e instanceof HTMLElement,ai=(e,t=[],n=[])=>{const r={...e},s=[],a=[],i=()=>({...r}),l=()=>{const f=[...s];return s.length=0,f},o=()=>{const f=[...a];a.length=0,f.forEach(({type:E,data:b})=>{u(E,b)})},u=(f,E,b)=>{if(b&&!document.hidden){a.push({type:f,data:E});return}_[f]&&_[f](E),s.push({type:f,data:E})},c=(f,...E)=>m[f]?m[f](...E):null,p={getState:i,processActionQueue:l,processDispatchQueue:o,dispatch:u,query:c};let m={};t.forEach(f=>{m={...f(r),...m}});let _={};return n.forEach(f=>{_={...f(u,c,r),..._}}),p},li=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},K=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},Pe=e=>{const t={};return K(e,n=>{li(t,n,e[n])}),t},ee=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},oi="http://www.w3.org/2000/svg",ci=["svg","path"],Bn=e=>ci.includes(e),Mt=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=Bn(e)?document.createElementNS(oi,e):document.createElement(e);return t&&(Bn(e)?ee(r,"class",t):r.className=t),K(n,(s,a)=>{ee(r,s,a)}),r},ui=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},di=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),fi=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),pi=(()=>typeof window<"u"&&typeof window.document<"u")(),Wr=()=>pi,mi=Wr()?Mt("svg"):{},Ei="children"in mi?e=>e.children.length:e=>e.childNodes.length,Xr=(e,t,n,r)=>{const s=n[0]||e.left,a=n[1]||e.top,i=s+e.width,l=a+e.height*(r[1]||1),o={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:s,top:a,right:i,bottom:l}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{Vn(o.inner,{...u.inner}),Vn(o.outer,{...u.outer})}),Hn(o.inner),o.outer.bottom+=o.element.marginBottom,o.outer.right+=o.element.marginRight,Hn(o.outer),o},Vn=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Hn=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Fe=e=>typeof e=="number",_i=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,gi=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,s=null,a=0,i=!1;const u=Pe({interpolate:(c,p)=>{if(i)return;if(!(Fe(r)&&Fe(s))){i=!0,a=0;return}const m=-(s-r)*e;a+=m/n,s+=a,a*=t,_i(s,r,a)||p?(s=r,a=0,i=!0,u.onupdate(s),u.oncomplete(s)):u.onupdate(s)},target:{set:c=>{if(Fe(c)&&!Fe(s)&&(s=c),r===null&&(r=c,s=c),r=c,s===r||typeof r>"u"){i=!0,a=0,u.onupdate(s),u.oncomplete(s);return}i=!1},get:()=>r},resting:{get:()=>i},onupdate:c=>{},oncomplete:c=>{}});return u},hi=e=>e<.5?2*e*e:-1+(4-2*e)*e,Ii=({duration:e=500,easing:t=hi,delay:n=0}={})=>{let r=null,s,a,i=!0,l=!1,o=null;const c=Pe({interpolate:(p,m)=>{i||o===null||(r===null&&(r=p),!(p-r<n)&&(s=p-r-n,s>=e||m?(s=1,a=l?0:1,c.onupdate(a*o),c.oncomplete(a*o),i=!0):(a=s/e,c.onupdate((s>=0?t(l?1-a:a):0)*o))))},target:{get:()=>l?0:o,set:p=>{if(o===null){o=p,c.onupdate(p),c.oncomplete(p);return}p<o?(o=1,l=!0):(l=!1,o=p),i=!1,r=null}},resting:{get:()=>i},onupdate:p=>{},oncomplete:p=>{}});return c},qn={spring:gi,tween:Ii},Ti=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,s=typeof r=="string"?r:r.type,a=typeof r=="object"?{...r}:{};return qn[s]?qn[s](a):null},In=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(s=>{e.forEach(a=>{let i=a,l=()=>n[a],o=u=>n[a]=u;typeof a=="object"&&(i=a.key,l=a.getter||l,o=a.setter||o),!(s[i]&&!r)&&(s[i]={get:l,set:o})})})},Ri=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const s={...t},a=[];return K(e,(i,l)=>{const o=Ti(l);if(!o)return;o.onupdate=c=>{t[i]=c},o.target=s[i],In([{key:i,setter:c=>{o.target!==c&&(o.target=c)},getter:()=>t[i]}],[n,r],t,!0),a.push(o)}),{write:i=>{let l=document.hidden,o=!0;return a.forEach(u=>{u.resting||(o=!1),u.interpolate(i,l)}),o},destroy:()=>{}}},bi=e=>(t,n)=>{e.addEventListener(t,n)},Oi=e=>(t,n)=>{e.removeEventListener(t,n)},yi=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:s,view:a})=>{const i=[],l=bi(a.element),o=Oi(a.element);return r.on=(u,c)=>{i.push({type:u,fn:c}),l(u,c)},r.off=(u,c)=>{i.splice(i.findIndex(p=>p.type===u&&p.fn===c),1),o(u,c)},{write:()=>!0,destroy:()=>{i.forEach(u=>{o(u.type,u.fn)})}}},Si=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{In(e,n,t)},ie=e=>e!=null,Di={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Ai=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:s})=>{const a={...t},i={};In(e,[n,r],t);const l=()=>[t.translateX||0,t.translateY||0],o=()=>[t.scaleX||0,t.scaleY||0],u=()=>s.rect?Xr(s.rect,s.childViews,l(),o()):null;return n.rect={get:u},r.rect={get:u},e.forEach(c=>{t[c]=typeof a[c]>"u"?Di[c]:a[c]}),{write:()=>{if(vi(i,t))return Li(s.element,t),Object.assign(i,{...t}),!0},destroy:()=>{}}},vi=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},Li=(e,{opacity:t,perspective:n,translateX:r,translateY:s,scaleX:a,scaleY:i,rotateX:l,rotateY:o,rotateZ:u,originX:c,originY:p,width:m,height:_})=>{let f="",E="";(ie(c)||ie(p))&&(E+=`transform-origin: ${c||0}px ${p||0}px;`),ie(n)&&(f+=`perspective(${n}px) `),(ie(r)||ie(s))&&(f+=`translate3d(${r||0}px, ${s||0}px, 0) `),(ie(a)||ie(i))&&(f+=`scale3d(${ie(a)?a:1}, ${ie(i)?i:1}, 1) `),ie(u)&&(f+=`rotateZ(${u}rad) `),ie(l)&&(f+=`rotateX(${l}rad) `),ie(o)&&(f+=`rotateY(${o}rad) `),f.length&&(E+=`transform:${f};`),ie(t)&&(E+=`opacity:${t};`,t===0&&(E+="visibility:hidden;"),t<1&&(E+="pointer-events:none;")),ie(_)&&(E+=`height:${_}px;`),ie(m)&&(E+=`width:${m}px;`);const b=e.elementCurrentStyle||"";(E.length!==b.length||E!==b)&&(e.style.cssText=E,e.elementCurrentStyle=E)},Ci={styles:Ai,listeners:yi,animations:Ri,apis:Si},kn=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),te=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:s=()=>{},create:a=()=>{},destroy:i=()=>{},filterFrameActionsForChild:l=(_,f)=>f,didCreateView:o=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:p=!1,mixins:m=[]}={})=>(_,f={})=>{const E=Mt(e,`filepond--${t}`,n),b=window.getComputedStyle(E,null),h=kn();let R=null,D=!1;const v=[],M=[],L={},U={},A=[s],O=[r],P=[i],g=()=>E,F=()=>v.concat(),z=()=>L,d=k=>(Q,Ie)=>Q(k,Ie),y=()=>R||(R=Xr(h,v,[0,0],[1,1]),R),I=()=>b,S=()=>{R=null,v.forEach(Ie=>Ie._read()),!(p&&h.width&&h.height)&&kn(h,E,b);const Q={root:De,props:f,rect:h};O.forEach(Ie=>Ie(Q))},B=(k,Q,Ie)=>{let Ce=Q.length===0;return A.forEach(se=>{se({props:f,root:De,actions:Q,timestamp:k,shouldOptimize:Ie})===!1&&(Ce=!1)}),M.forEach(se=>{se.write(k)===!1&&(Ce=!1)}),v.filter(se=>!!se.element.parentNode).forEach(se=>{se._write(k,l(se,Q),Ie)||(Ce=!1)}),v.forEach((se,C)=>{se.element.parentNode||(De.appendChild(se.element,C),se._read(),se._write(k,l(se,Q),Ie),Ce=!1)}),D=Ce,u({props:f,root:De,actions:Q,timestamp:k}),Ce},G=()=>{M.forEach(k=>k.destroy()),P.forEach(k=>{k({root:De,props:f})}),v.forEach(k=>k._destroy())},Y={element:{get:g},style:{get:I},childViews:{get:F}},x={...Y,rect:{get:y},ref:{get:z},is:k=>t===k,appendChild:ui(E),createChildView:d(_),linkView:k=>(v.push(k),k),unlinkView:k=>{v.splice(v.indexOf(k),1)},appendChildView:di(E,v),removeChildView:fi(E,v),registerWriter:k=>A.push(k),registerReader:k=>O.push(k),registerDestroyer:k=>P.push(k),invalidateLayout:()=>E.layoutCalculated=!1,dispatch:_.dispatch,query:_.query},Ye={element:{get:g},childViews:{get:F},rect:{get:y},resting:{get:()=>D},isRectIgnored:()=>c,_read:S,_write:B,_destroy:G},Wt={...Y,rect:{get:()=>h}};Object.keys(m).sort((k,Q)=>k==="styles"?1:Q==="styles"?-1:0).forEach(k=>{const Q=Ci[k]({mixinConfig:m[k],viewProps:f,viewState:U,viewInternalAPI:x,viewExternalAPI:Ye,view:Pe(Wt)});Q&&M.push(Q)});const De=Pe(x);a({root:De,props:f});const Xt=Ei(E);return v.forEach((k,Q)=>{De.appendChild(k.element,Xt+Q)}),o(De),Pe(Ye)},Mi=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const s=window[r],a=1e3/n;let i=null,l=null,o=null,u=null;const c=()=>{document.hidden?(o=()=>window.setTimeout(()=>p(performance.now()),a),u=()=>window.clearTimeout(l)):(o=()=>window.requestAnimationFrame(p),u=()=>window.cancelAnimationFrame(l))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),p(performance.now())});const p=m=>{l=o(p),i||(i=m);const _=m-i;_<=a||(i=m-_%a,s.readers.forEach(f=>f()),s.writers.forEach(f=>f(m)))};return c(),p(performance.now()),{pause:()=>{u(l)}}},le=(e,t)=>({root:n,props:r,actions:s=[],timestamp:a,shouldOptimize:i})=>{s.filter(l=>e[l.type]).forEach(l=>e[l.type]({root:n,props:r,action:l.data,timestamp:a,shouldOptimize:i})),t&&t({root:n,props:r,actions:s,timestamp:a,shouldOptimize:i})},zn=(e,t)=>t.parentNode.insertBefore(e,t),Yn=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Bt=e=>Array.isArray(e),ve=e=>e==null,Pi=e=>e.trim(),Vt=e=>""+e,wi=(e,t=",")=>ve(e)?[]:Bt(e)?e:Vt(e).split(t).map(Pi).filter(n=>n.length),jr=e=>typeof e=="boolean",xr=e=>jr(e)?e:e==="true",ae=e=>typeof e=="string",Qr=e=>Fe(e)?e:ae(e)?Vt(e).replace(/[a-z]+/gi,""):0,Dt=e=>parseInt(Qr(e),10),Wn=e=>parseFloat(Qr(e)),at=e=>Fe(e)&&isFinite(e)&&Math.floor(e)===e,Xn=(e,t=1e3)=>{if(at(e))return e;let n=Vt(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Dt(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Dt(n)*t):Dt(n)},Ge=e=>typeof e=="function",Ni=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},jn={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},Fi=e=>{const t={};return t.url=ae(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},K(jn,n=>{t[n]=Gi(n,e[n],jn[n],t.timeout,t.headers)}),t.process=e.process||ae(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},Gi=(e,t,n,r,s)=>{if(t===null)return null;if(typeof t=="function")return t;const a={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:s,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(ae(t))return a.url=t,a;if(Object.assign(a,t),ae(a.headers)){const i=a.headers.split(/:(.+)/);a.headers={header:i[0],value:i[1]}}return a.withCredentials=xr(a.withCredentials),a},Ui=e=>Fi(e),Bi=e=>e===null,re=e=>typeof e=="object"&&e!==null,Vi=e=>re(e)&&ae(e.url)&&re(e.process)&&re(e.revert)&&re(e.restore)&&re(e.fetch),an=e=>Bt(e)?"array":Bi(e)?"null":at(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Vi(e)?"api":typeof e,Hi=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),qi={array:wi,boolean:xr,int:e=>an(e)==="bytes"?Xn(e):Dt(e),number:Wn,float:Wn,bytes:Xn,string:e=>Ge(e)?e:Vt(e),function:e=>Ni(e),serverapi:Ui,object:e=>{try{return JSON.parse(Hi(e))}catch{return null}}},ki=(e,t)=>qi[t](e),Kr=(e,t,n)=>{if(e===t)return e;let r=an(e);if(r!==n){const s=ki(e,n);if(r=an(s),s===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=s}return e},zi=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=Kr(r,e,t)}}},Yi=e=>{const t={};return K(e,n=>{const r=e[n];t[n]=zi(r[0],r[1])}),Pe(t)},Wi=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:Yi(e)}),Ht=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),Xi=(e,t)=>{const n={};return K(t,r=>{n[r]={get:()=>e.getState().options[r],set:s=>{e.dispatch(`SET_${Ht(r,"_").toUpperCase()}`,{value:s})}}}),n},ji=e=>(t,n,r)=>{const s={};return K(e,a=>{const i=Ht(a,"_").toUpperCase();s[`SET_${i}`]=l=>{try{r.options[a]=l.value}catch{}t(`DID_SET_${i}`,{value:r.options[a]})}}),s},xi=e=>t=>{const n={};return K(e,r=>{n[`GET_${Ht(r,"_").toUpperCase()}`]=s=>t.options[r]}),n},he={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Tn=()=>Math.random().toString(36).substring(2,11),Rn=(e,t)=>e.splice(t,1),Qi=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},qt=()=>{const e=[],t=(r,s)=>{Rn(e,e.findIndex(a=>a.event===r&&(a.cb===s||!s)))},n=(r,s,a)=>{e.filter(i=>i.event===r).map(i=>i.cb).forEach(i=>Qi(()=>i(...s),a))};return{fireSync:(r,...s)=>{n(r,s,!0)},fire:(r,...s)=>{n(r,s,!1)},on:(r,s)=>{e.push({event:r,cb:s})},onOnce:(r,s)=>{e.push({event:r,cb:(...a)=>{t(r,s),s(...a)}})},off:t}},Zr=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},Ki=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],oe=e=>{const t={};return Zr(e,t,Ki),t},Zi=e=>{e.forEach((t,n)=>{t.released&&Rn(e,n)})},V={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},ne={INPUT:1,LIMBO:2,LOCAL:3},Jr=e=>/[^0-9]+/.exec(e),$r=()=>Jr(1.1 .toLocaleString())[0],Ji=()=>{const e=$r(),t=1e3 .toLocaleString(),n=1e3 .toString();return t!==n?Jr(t)[0]:e==="."?",":"."},T={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},bn=[],be=(e,t,n)=>new Promise((r,s)=>{const a=bn.filter(l=>l.key===e).map(l=>l.cb);if(a.length===0){r(t);return}const i=a.shift();a.reduce((l,o)=>l.then(u=>o(u,n)),i(t,n)).then(l=>r(l)).catch(l=>s(l))}),ke=(e,t,n)=>bn.filter(r=>r.key===e).map(r=>r.cb(t,n)),$i=(e,t)=>bn.push({key:e,cb:t}),ea=e=>Object.assign(We,e),Pt=()=>({...We}),ta=e=>{K(e,(t,n)=>{We[t]&&(We[t][0]=Kr(n,We[t][0],We[t][1]))})},We={id:[null,T.STRING],name:["filepond",T.STRING],disabled:[!1,T.BOOLEAN],className:[null,T.STRING],required:[!1,T.BOOLEAN],captureMethod:[null,T.STRING],allowSyncAcceptAttribute:[!0,T.BOOLEAN],allowDrop:[!0,T.BOOLEAN],allowBrowse:[!0,T.BOOLEAN],allowPaste:[!0,T.BOOLEAN],allowMultiple:[!1,T.BOOLEAN],allowReplace:[!0,T.BOOLEAN],allowRevert:[!0,T.BOOLEAN],allowRemove:[!0,T.BOOLEAN],allowProcess:[!0,T.BOOLEAN],allowReorder:[!1,T.BOOLEAN],allowDirectoriesOnly:[!1,T.BOOLEAN],storeAsFile:[!1,T.BOOLEAN],forceRevert:[!1,T.BOOLEAN],maxFiles:[null,T.INT],checkValidity:[!1,T.BOOLEAN],itemInsertLocationFreedom:[!0,T.BOOLEAN],itemInsertLocation:["before",T.STRING],itemInsertInterval:[75,T.INT],dropOnPage:[!1,T.BOOLEAN],dropOnElement:[!0,T.BOOLEAN],dropValidation:[!1,T.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],T.ARRAY],instantUpload:[!0,T.BOOLEAN],maxParallelUploads:[2,T.INT],allowMinimumUploadDuration:[!0,T.BOOLEAN],chunkUploads:[!1,T.BOOLEAN],chunkForce:[!1,T.BOOLEAN],chunkSize:[5e6,T.INT],chunkRetryDelays:[[500,1e3,3e3],T.ARRAY],server:[null,T.SERVER_API],fileSizeBase:[1e3,T.INT],labelFileSizeBytes:["bytes",T.STRING],labelFileSizeKilobytes:["KB",T.STRING],labelFileSizeMegabytes:["MB",T.STRING],labelFileSizeGigabytes:["GB",T.STRING],labelDecimalSeparator:[$r(),T.STRING],labelThousandsSeparator:[Ji(),T.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',T.STRING],labelInvalidField:["Field contains invalid files",T.STRING],labelFileWaitingForSize:["Waiting for size",T.STRING],labelFileSizeNotAvailable:["Size not available",T.STRING],labelFileCountSingular:["file in list",T.STRING],labelFileCountPlural:["files in list",T.STRING],labelFileLoading:["Loading",T.STRING],labelFileAdded:["Added",T.STRING],labelFileLoadError:["Error during load",T.STRING],labelFileRemoved:["Removed",T.STRING],labelFileRemoveError:["Error during remove",T.STRING],labelFileProcessing:["Uploading",T.STRING],labelFileProcessingComplete:["Upload complete",T.STRING],labelFileProcessingAborted:["Upload cancelled",T.STRING],labelFileProcessingError:["Error during upload",T.STRING],labelFileProcessingRevertError:["Error during revert",T.STRING],labelTapToCancel:["tap to cancel",T.STRING],labelTapToRetry:["tap to retry",T.STRING],labelTapToUndo:["tap to undo",T.STRING],labelButtonRemoveItem:["Remove",T.STRING],labelButtonAbortItemLoad:["Abort",T.STRING],labelButtonRetryItemLoad:["Retry",T.STRING],labelButtonAbortItemProcessing:["Cancel",T.STRING],labelButtonUndoItemProcessing:["Undo",T.STRING],labelButtonRetryItemProcessing:["Retry",T.STRING],labelButtonProcessItem:["Upload",T.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',T.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],oninit:[null,T.FUNCTION],onwarning:[null,T.FUNCTION],onerror:[null,T.FUNCTION],onactivatefile:[null,T.FUNCTION],oninitfile:[null,T.FUNCTION],onaddfilestart:[null,T.FUNCTION],onaddfileprogress:[null,T.FUNCTION],onaddfile:[null,T.FUNCTION],onprocessfilestart:[null,T.FUNCTION],onprocessfileprogress:[null,T.FUNCTION],onprocessfileabort:[null,T.FUNCTION],onprocessfilerevert:[null,T.FUNCTION],onprocessfile:[null,T.FUNCTION],onprocessfiles:[null,T.FUNCTION],onremovefile:[null,T.FUNCTION],onpreparefile:[null,T.FUNCTION],onupdatefiles:[null,T.FUNCTION],onreorderfiles:[null,T.FUNCTION],beforeDropFile:[null,T.FUNCTION],beforeAddFile:[null,T.FUNCTION],beforeRemoveFile:[null,T.FUNCTION],beforePrepareFile:[null,T.FUNCTION],stylePanelLayout:[null,T.STRING],stylePanelAspectRatio:[null,T.STRING],styleItemPanelAspectRatio:[null,T.STRING],styleButtonRemoveItemPosition:["left",T.STRING],styleButtonProcessItemPosition:["right",T.STRING],styleLoadIndicatorPosition:["right",T.STRING],styleProgressIndicatorPosition:["right",T.STRING],styleButtonRemoveItemAlign:[!1,T.BOOLEAN],files:[[],T.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],T.ARRAY]},Ue=(e,t)=>ve(t)?e[0]||null:at(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),es=e=>{if(ve(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},Oe=e=>e.filter(t=>!t.archived),na={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Et=null;const ra=()=>{if(Et===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Et=t.files.length===1}catch{Et=!1}return Et},sa=[V.LOAD_ERROR,V.PROCESSING_ERROR,V.PROCESSING_REVERT_ERROR],ia=[V.LOADING,V.PROCESSING,V.PROCESSING_QUEUED,V.INIT],aa=[V.PROCESSING_COMPLETE],la=e=>sa.includes(e.status),oa=e=>ia.includes(e.status),ca=e=>aa.includes(e.status),xn=e=>re(e.options.server)&&(re(e.options.server.process)||Ge(e.options.server.process)),ua=e=>({GET_STATUS:()=>{const t=Oe(e.items),{EMPTY:n,ERROR:r,BUSY:s,IDLE:a,READY:i}=na;return t.length===0?n:t.some(la)?r:t.some(oa)?s:t.some(ca)?i:a},GET_ITEM:t=>Ue(e.items,t),GET_ACTIVE_ITEM:t=>Ue(Oe(e.items),t),GET_ACTIVE_ITEMS:()=>Oe(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=Ue(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=Ue(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:es(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>Oe(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>Oe(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&ra()&&!xn(e),IS_ASYNC:()=>xn(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),da=e=>{const t=Oe(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},ts=(e,t,n)=>Math.max(Math.min(n,e),t),fa=(e,t,n)=>e.splice(t,0,n),pa=(e,t,n)=>ve(t)?null:typeof n>"u"?(e.push(t),t):(n=ts(n,0,e.length),fa(e,n,t),t),ln=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),pt=e=>e.split("/").pop().split("?").shift(),kt=e=>e.split(".").pop(),ma=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},lt=(e,t="")=>(t+e).slice(-t.length),ns=(e=new Date)=>`${e.getFullYear()}-${lt(e.getMonth()+1,"00")}-${lt(e.getDate(),"00")}_${lt(e.getHours(),"00")}-${lt(e.getMinutes(),"00")}-${lt(e.getSeconds(),"00")}`,Je=(e,t,n=null,r=null)=>{const s=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return s.lastModifiedDate=new Date,e._relativePath&&(s._relativePath=e._relativePath),ae(t)||(t=ns()),t&&r===null&&kt(t)?s.name=t:(r=r||ma(s.type),s.name=t+(r?"."+r:"")),s},Ea=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,rs=(e,t)=>{const n=Ea();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},_a=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return rs(n,t)},ss=e=>(/^data:(.+);/.exec(e)||[])[1]||null,ga=e=>e.split(",")[1].replace(/\s/g,""),ha=e=>atob(ga(e)),Ia=e=>{const t=ss(e),n=ha(e);return _a(n,t)},Ta=(e,t,n)=>Je(Ia(e),t,null,n),Ra=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},ba=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Oa=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,On=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const s=Ra(r);if(s){t.name=s;continue}const a=ba(r);if(a){t.size=a;continue}const i=Oa(r);if(i){t.source=i;continue}}return t},ya=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},s=()=>{const l=t.source;i.fire("init",l),l instanceof File?i.fire("load",l):l instanceof Blob?i.fire("load",Je(l,l.name)):ln(l)?i.fire("load",Ta(l)):a(l)},a=l=>{if(!e){i.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(l,o=>{t.duration=Date.now()-t.timestamp,t.complete=!0,o instanceof Blob&&(o=Je(o,o.name||pt(l))),i.fire("load",o instanceof Blob?o:o?o.body:null)},o=>{i.fire("error",typeof o=="string"?{type:"error",code:0,body:o}:o)},(o,u,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!o){t.progress=null;return}t.progress=u/c,i.fire("progress",t.progress)},()=>{i.fire("abort")},o=>{const u=On(typeof o=="string"?o:o.headers);i.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},i={...qt(),setSource:l=>t.source=l,getProgress:n,abort:r,load:s};return i},Qn=e=>/GET|HEAD/.test(e),Be=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{s=!0,i.abort()}};let s=!1,a=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),Qn(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const i=new XMLHttpRequest,l=Qn(n.method)?i:i.upload;return l.onprogress=o=>{s||r.onprogress(o.lengthComputable,o.loaded,o.total)},i.onreadystatechange=()=>{i.readyState<2||i.readyState===4&&i.status===0||a||(a=!0,r.onheaders(i))},i.onload=()=>{i.status>=200&&i.status<300?r.onload(i):r.onerror(i)},i.onerror=()=>r.onerror(i),i.onabort=()=>{s=!0,r.onabort()},i.ontimeout=()=>r.ontimeout(i),i.open(n.method,t,!0),at(n.timeout)&&(i.timeout=n.timeout),Object.keys(n.headers).forEach(o=>{const u=unescape(encodeURIComponent(n.headers[o]));i.setRequestHeader(o,u)}),n.responseType&&(i.responseType=n.responseType),n.withCredentials&&(i.withCredentials=!0),i.send(e),r},J=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),Ve=e=>t=>{e(J("error",0,"Timeout",t.getAllResponseHeaders()))},Kn=e=>/\?/.test(e),ut=(...e)=>{let t="";return e.forEach(n=>{t+=Kn(t)&&Kn(n)?n.replace(/\?/,"&"):n}),t},Kt=(e="",t)=>{if(typeof t=="function")return t;if(!t||!ae(t.url))return null;const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,a,i,l,o,u)=>{const c=Be(s,ut(e,t.url),{...t,responseType:"blob"});return c.onload=p=>{const m=p.getAllResponseHeaders(),_=On(m).name||pt(s);a(J("load",p.status,t.method==="HEAD"?null:Je(n(p.response),_),m))},c.onerror=p=>{i(J("error",p.status,r(p.response)||p.statusText,p.getAllResponseHeaders()))},c.onheaders=p=>{u(J("headers",p.status,null,p.getAllResponseHeaders()))},c.ontimeout=Ve(i),c.onprogress=l,c.onabort=o,c}},_e={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Sa=(e,t,n,r,s,a,i,l,o,u,c)=>{const p=[],{chunkTransferId:m,chunkServer:_,chunkSize:f,chunkRetryDelays:E}=c,b={serverId:m,aborted:!1},h=t.ondata||(d=>d),R=t.onload||((d,y)=>y==="HEAD"?d.getResponseHeader("Upload-Offset"):d.response),D=t.onerror||(d=>null),v=d=>{const y=new FormData;re(s)&&y.append(n,JSON.stringify(s));const I=typeof t.headers=="function"?t.headers(r,s):{...t.headers,"Upload-Length":r.size},S={...t,headers:I},B=Be(h(y),ut(e,t.url),S);B.onload=G=>d(R(G,S.method)),B.onerror=G=>i(J("error",G.status,D(G.response)||G.statusText,G.getAllResponseHeaders())),B.ontimeout=Ve(i)},M=d=>{const y=ut(e,_.url,b.serverId),S={headers:typeof t.headers=="function"?t.headers(b.serverId):{...t.headers},method:"HEAD"},B=Be(null,y,S);B.onload=G=>d(R(G,S.method)),B.onerror=G=>i(J("error",G.status,D(G.response)||G.statusText,G.getAllResponseHeaders())),B.ontimeout=Ve(i)},L=Math.floor(r.size/f);for(let d=0;d<=L;d++){const y=d*f,I=r.slice(y,y+f,"application/offset+octet-stream");p[d]={index:d,size:I.size,offset:y,data:I,file:r,progress:0,retries:[...E],status:_e.QUEUED,error:null,request:null,timeout:null}}const U=()=>a(b.serverId),A=d=>d.status===_e.QUEUED||d.status===_e.ERROR,O=d=>{if(b.aborted)return;if(d=d||p.find(A),!d){p.every(Y=>Y.status===_e.COMPLETE)&&U();return}d.status=_e.PROCESSING,d.progress=null;const y=_.ondata||(Y=>Y),I=_.onerror||(Y=>null),S=ut(e,_.url,b.serverId),B=typeof _.headers=="function"?_.headers(d):{..._.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":d.offset,"Upload-Length":r.size,"Upload-Name":r.name},G=d.request=Be(y(d.data),S,{..._,headers:B});G.onload=()=>{d.status=_e.COMPLETE,d.request=null,F()},G.onprogress=(Y,x,Ye)=>{d.progress=Y?x:null,g()},G.onerror=Y=>{d.status=_e.ERROR,d.request=null,d.error=I(Y.response)||Y.statusText,P(d)||i(J("error",Y.status,I(Y.response)||Y.statusText,Y.getAllResponseHeaders()))},G.ontimeout=Y=>{d.status=_e.ERROR,d.request=null,P(d)||Ve(i)(Y)},G.onabort=()=>{d.status=_e.QUEUED,d.request=null,o()}},P=d=>d.retries.length===0?!1:(d.status=_e.WAITING,clearTimeout(d.timeout),d.timeout=setTimeout(()=>{O(d)},d.retries.shift()),!0),g=()=>{const d=p.reduce((I,S)=>I===null||S.progress===null?null:I+S.progress,0);if(d===null)return l(!1,0,0);const y=p.reduce((I,S)=>I+S.size,0);l(!0,d,y)},F=()=>{p.filter(y=>y.status===_e.PROCESSING).length>=1||O()},z=()=>{p.forEach(d=>{clearTimeout(d.timeout),d.request&&d.request.abort()})};return b.serverId?M(d=>{b.aborted||(p.filter(y=>y.offset<d).forEach(y=>{y.status=_e.COMPLETE,y.progress=y.size}),F())}):v(d=>{b.aborted||(u(d),b.serverId=d,F())}),{abort:()=>{b.aborted=!0,z()}}},Da=(e,t,n,r)=>(s,a,i,l,o,u,c)=>{if(!s)return;const p=r.chunkUploads,m=p&&s.size>r.chunkSize,_=p&&(m||r.chunkForce);if(s instanceof Blob&&_)return Sa(e,t,n,s,a,i,l,o,u,c,r);const f=t.ondata||(M=>M),E=t.onload||(M=>M),b=t.onerror||(M=>null),h=typeof t.headers=="function"?t.headers(s,a)||{}:{...t.headers},R={...t,headers:h};var D=new FormData;re(a)&&D.append(n,JSON.stringify(a)),(s instanceof Blob?[{name:null,file:s}]:s).forEach(M=>{D.append(n,M.file,M.name===null?M.file.name:`${M.name}${M.file.name}`)});const v=Be(f(D),ut(e,t.url),R);return v.onload=M=>{i(J("load",M.status,E(M.response),M.getAllResponseHeaders()))},v.onerror=M=>{l(J("error",M.status,b(M.response)||M.statusText,M.getAllResponseHeaders()))},v.ontimeout=Ve(l),v.onprogress=o,v.onabort=u,v},Aa=(e="",t,n,r)=>typeof t=="function"?(...s)=>t(n,...s,r):!t||!ae(t.url)?null:Da(e,t,n,r),ot=(e="",t)=>{if(typeof t=="function")return t;if(!t||!ae(t.url))return(s,a)=>a();const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,a,i)=>{const l=Be(s,e+t.url,t);return l.onload=o=>{a(J("load",o.status,n(o.response),o.getAllResponseHeaders()))},l.onerror=o=>{i(J("error",o.status,r(o.response)||o.statusText,o.getAllResponseHeaders()))},l.ontimeout=Ve(i),l}},is=(e=0,t=1)=>e+Math.random()*(t-e),va=(e,t=1e3,n=0,r=25,s=250)=>{let a=null;const i=Date.now(),l=()=>{let o=Date.now()-i,u=is(r,s);o+u>t&&(u=o+u-t);let c=o/t;if(c>=1||document.hidden){e(1);return}e(c),a=setTimeout(l,u)};return t>0&&l(),{clear:()=>{clearTimeout(a)}}},La=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,s=(c,p)=>{const m=()=>{n.duration===0||n.progress===null||u.fire("progress",u.getProgress())},_=()=>{n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=va(f=>{n.perceivedProgress=f,n.perceivedDuration=Date.now()-n.timestamp,m(),n.response&&n.perceivedProgress===1&&!n.complete&&_()},r?is(750,1500):0),n.request=e(c,p,f=>{n.response=re(f)?f:{type:"load",code:200,body:`${f}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&_()},f=>{n.perceivedPerformanceUpdater.clear(),u.fire("error",re(f)?f:{type:"error",code:0,body:`${f}`})},(f,E,b)=>{n.duration=Date.now()-n.timestamp,n.progress=f?E/b:null,m()},()=>{n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)},f=>{u.fire("transfer",f)})},a=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},i=()=>{a(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},l=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,o=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,u={...qt(),process:s,abort:a,getProgress:l,getDuration:o,reset:i};return u},as=e=>e.substring(0,e.lastIndexOf("."))||e,Ca=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||ln(e)?t[0]=e.name||ns():ln(e)?(t[1]=e.length,t[2]=ss(e)):ae(e)&&(t[0]=pt(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},$e=e=>!!(e instanceof File||e instanceof Blob&&e.name),ls=e=>{if(!re(e))return e;const t=Bt(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&re(r)?ls(r):r}return t},Ma=(e=null,t=null,n=null)=>{const r=Tn(),s={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?V.PROCESSING_COMPLETE:V.INIT,activeLoader:null,activeProcessor:null};let a=null;const i={},l=A=>s.status=A,o=(A,...O)=>{s.released||s.frozen||L.fire(A,...O)},u=()=>kt(s.file.name),c=()=>s.file.type,p=()=>s.file.size,m=()=>s.file,_=(A,O,P)=>{if(s.source=A,L.fireSync("init"),s.file){L.fireSync("load-skip");return}s.file=Ca(A),O.on("init",()=>{o("load-init")}),O.on("meta",g=>{s.file.size=g.size,s.file.filename=g.filename,g.source&&(e=ne.LIMBO,s.serverFileReference=g.source,s.status=V.PROCESSING_COMPLETE),o("load-meta")}),O.on("progress",g=>{l(V.LOADING),o("load-progress",g)}),O.on("error",g=>{l(V.LOAD_ERROR),o("load-request-error",g)}),O.on("abort",()=>{l(V.INIT),o("load-abort")}),O.on("load",g=>{s.activeLoader=null;const F=d=>{s.file=$e(d)?d:s.file,e===ne.LIMBO&&s.serverFileReference?l(V.PROCESSING_COMPLETE):l(V.IDLE),o("load")},z=d=>{s.file=g,o("load-meta"),l(V.LOAD_ERROR),o("load-file-error",d)};if(s.serverFileReference){F(g);return}P(g,F,z)}),O.setSource(A),s.activeLoader=O,O.load()},f=()=>{s.activeLoader&&s.activeLoader.load()},E=()=>{if(s.activeLoader){s.activeLoader.abort();return}l(V.INIT),o("load-abort")},b=(A,O)=>{if(s.processingAborted){s.processingAborted=!1;return}if(l(V.PROCESSING),a=null,!(s.file instanceof Blob)){L.on("load",()=>{b(A,O)});return}A.on("load",F=>{s.transferId=null,s.serverFileReference=F}),A.on("transfer",F=>{s.transferId=F}),A.on("load-perceived",F=>{s.activeProcessor=null,s.transferId=null,s.serverFileReference=F,l(V.PROCESSING_COMPLETE),o("process-complete",F)}),A.on("start",()=>{o("process-start")}),A.on("error",F=>{s.activeProcessor=null,l(V.PROCESSING_ERROR),o("process-error",F)}),A.on("abort",F=>{s.activeProcessor=null,s.serverFileReference=F,l(V.IDLE),o("process-abort"),a&&a()}),A.on("progress",F=>{o("process-progress",F)});const P=F=>{s.archived||A.process(F,{...i})},g=console.error;O(s.file,P,g),s.activeProcessor=A},h=()=>{s.processingAborted=!1,l(V.PROCESSING_QUEUED)},R=()=>new Promise(A=>{if(!s.activeProcessor){s.processingAborted=!0,l(V.IDLE),o("process-abort"),A();return}a=()=>{A()},s.activeProcessor.abort()}),D=(A,O)=>new Promise((P,g)=>{const F=s.serverFileReference!==null?s.serverFileReference:s.transferId;if(F===null){P();return}A(F,()=>{s.serverFileReference=null,s.transferId=null,P()},z=>{if(!O){P();return}l(V.PROCESSING_REVERT_ERROR),o("process-revert-error"),g(z)}),l(V.IDLE),o("process-revert")}),v=(A,O,P)=>{const g=A.split("."),F=g[0],z=g.pop();let d=i;g.forEach(y=>d=d[y]),JSON.stringify(d[z])!==JSON.stringify(O)&&(d[z]=O,o("metadata-update",{key:F,value:i[F],silent:P}))},L={id:{get:()=>r},origin:{get:()=>e,set:A=>e=A},serverId:{get:()=>s.serverFileReference},transferId:{get:()=>s.transferId},status:{get:()=>s.status},filename:{get:()=>s.file.name},filenameWithoutExtension:{get:()=>as(s.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:p},file:{get:m},relativePath:{get:()=>s.file._relativePath},source:{get:()=>s.source},getMetadata:A=>ls(A?i[A]:i),setMetadata:(A,O,P)=>{if(re(A)){const g=A;return Object.keys(g).forEach(F=>{v(F,g[F],O)}),A}return v(A,O,P),O},extend:(A,O)=>U[A]=O,abortLoad:E,retryLoad:f,requestProcessing:h,abortProcessing:R,load:_,process:b,revert:D,...qt(),freeze:()=>s.frozen=!0,release:()=>s.released=!0,released:{get:()=>s.released},archive:()=>s.archived=!0,archived:{get:()=>s.archived}},U=Pe(L);return U},Pa=(e,t)=>ve(t)?0:ae(t)?e.findIndex(n=>n.id===t):-1,Zn=(e,t)=>{const n=Pa(e,t);if(!(n<0))return e[n]||null},Jn=(e,t,n,r,s,a)=>{const i=Be(null,e,{method:"GET",responseType:"blob"});return i.onload=l=>{const o=l.getAllResponseHeaders(),u=On(o).name||pt(e);t(J("load",l.status,Je(l.response,u),o))},i.onerror=l=>{n(J("error",l.status,l.statusText,l.getAllResponseHeaders()))},i.onheaders=l=>{a(J("headers",l.status,null,l.getAllResponseHeaders()))},i.ontimeout=Ve(n),i.onprogress=r,i.onabort=s,i},$n=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),wa=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&$n(location.href)!==$n(e),_t=e=>(...t)=>Ge(e)?e(...t):e,Na=e=>!$e(e.file),Zt=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:Oe(t.items)})},0)},er=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),Jt=(e,t)=>{e.items.sort((n,r)=>t(oe(n),oe(r)))},ge=(e,t)=>({query:n,success:r=()=>{},failure:s=()=>{},...a}={})=>{const i=Ue(e.items,n);if(!i){s({error:J("error",0,"Item not found"),file:null});return}t(i,r,s,a||{})},Fa=(e,t,n)=>({ABORT_ALL:()=>{Oe(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const s=r.map(i=>({source:i.source?i.source:i,options:i.options}));let a=Oe(n.items);a.forEach(i=>{s.find(l=>l.source===i.source||l.source===i.file)||e("REMOVE_ITEM",{query:i,remove:!1})}),a=Oe(n.items),s.forEach((i,l)=>{a.find(o=>o.source===i.source||o.file===i.source)||e("ADD_ITEM",{...i,interactionMethod:he.NONE,index:l})})},DID_UPDATE_ITEM_METADATA:({id:r,action:s,change:a})=>{a.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const i=Zn(n.items,r);if(!t("IS_ASYNC")){be("SHOULD_PREPARE_OUTPUT",!1,{item:i,query:t,action:s,change:a}).then(c=>{const p=t("GET_BEFORE_PREPARE_FILE");p&&(c=p(i,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:i,success:m=>{e("DID_PREPARE_OUTPUT",{id:r,file:m})}},!0)});return}i.origin===ne.LOCAL&&e("DID_LOAD_ITEM",{id:i.id,error:null,serverFileReference:i.source});const l=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},o=c=>{i.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?l:()=>{}).catch(()=>{})},u=c=>{i.abortProcessing().then(c?l:()=>{})};if(i.status===V.PROCESSING_COMPLETE)return o(n.options.instantUpload);if(i.status===V.PROCESSING)return u(n.options.instantUpload);n.options.instantUpload&&l()},0))},MOVE_ITEM:({query:r,index:s})=>{const a=Ue(n.items,r);if(!a)return;const i=n.items.indexOf(a);s=ts(s,0,n.items.length-1),i!==s&&n.items.splice(s,0,n.items.splice(i,1)[0])},SORT:({compare:r})=>{Jt(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:s,interactionMethod:a,success:i=()=>{},failure:l=()=>{}})=>{let o=s;if(s===-1||typeof s>"u"){const _=t("GET_ITEM_INSERT_LOCATION"),f=t("GET_TOTAL_ITEMS");o=_==="before"?0:f}const u=t("GET_IGNORED_FILES"),c=_=>$e(_)?!u.includes(_.name.toLowerCase()):!ve(_),m=r.filter(c).map(_=>new Promise((f,E)=>{e("ADD_ITEM",{interactionMethod:a,source:_.source||_,success:f,failure:E,index:o++,options:_.options||{}})}));Promise.all(m).then(i).catch(l)},ADD_ITEM:({source:r,index:s=-1,interactionMethod:a,success:i=()=>{},failure:l=()=>{},options:o={}})=>{if(ve(r)){l({error:J("error",0,"No source"),file:null});return}if($e(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!da(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const R=J("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:R}),l({error:R,file:null});return}const h=Oe(n.items)[0];if(h.status===V.PROCESSING_COMPLETE||h.status===V.PROCESSING_REVERT_ERROR){const R=t("GET_FORCE_REVERT");if(h.revert(ot(n.options.server.url,n.options.server.revert),R).then(()=>{R&&e("ADD_ITEM",{source:r,index:s,interactionMethod:a,success:i,failure:l,options:o})}).catch(()=>{}),R)return}e("REMOVE_ITEM",{query:h.id})}const u=o.type==="local"?ne.LOCAL:o.type==="limbo"?ne.LIMBO:ne.INPUT,c=Ma(u,u===ne.INPUT?null:r,o.file);Object.keys(o.metadata||{}).forEach(h=>{c.setMetadata(h,o.metadata[h])}),ke("DID_CREATE_ITEM",c,{query:t,dispatch:e});const p=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s=p==="before"?-1:n.items.length),pa(n.items,c,s),Ge(p)&&r&&Jt(n,p);const m=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:m})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:m})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:m})}),c.on("load-progress",h=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:m,progress:h})}),c.on("load-request-error",h=>{const R=_t(n.options.labelFileLoadError)(h);if(h.code>=400&&h.code<500){e("DID_THROW_ITEM_INVALID",{id:m,error:h,status:{main:R,sub:`${h.code} (${h.body})`}}),l({error:h,file:oe(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:m,error:h,status:{main:R,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",h=>{e("DID_THROW_ITEM_INVALID",{id:m,error:h.status,status:h.status}),l({error:h.status,file:oe(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:m})}),c.on("load-skip",()=>{e("COMPLETE_LOAD_ITEM",{query:m,item:c,data:{source:r,success:i}})}),c.on("load",()=>{const h=R=>{if(!R){e("REMOVE_ITEM",{query:m});return}c.on("metadata-update",D=>{e("DID_UPDATE_ITEM_METADATA",{id:m,change:D})}),be("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(D=>{const v=t("GET_BEFORE_PREPARE_FILE");v&&(D=v(c,D));const M=()=>{e("COMPLETE_LOAD_ITEM",{query:m,item:c,data:{source:r,success:i}}),Zt(e,n)};if(D){e("REQUEST_PREPARE_OUTPUT",{query:m,item:c,success:L=>{e("DID_PREPARE_OUTPUT",{id:m,file:L}),M()}},!0);return}M()})};be("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{er(t("GET_BEFORE_ADD_FILE"),oe(c)).then(h)}).catch(R=>{if(!R||!R.error||!R.status)return h(!1);e("DID_THROW_ITEM_INVALID",{id:m,error:R.error,status:R.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:m})}),c.on("process-progress",h=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:m,progress:h})}),c.on("process-error",h=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:m,error:h,status:{main:_t(n.options.labelFileProcessingError)(h),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",h=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:m,error:h,status:{main:_t(n.options.labelFileProcessingRevertError)(h),sub:n.options.labelTapToRetry}})}),c.on("process-complete",h=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:m,error:null,serverFileReference:h}),e("DID_DEFINE_VALUE",{id:m,value:h})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:m})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:m}),e("DID_DEFINE_VALUE",{id:m,value:null})}),e("DID_ADD_ITEM",{id:m,index:s,interactionMethod:a}),Zt(e,n);const{url:_,load:f,restore:E,fetch:b}=n.options.server||{};c.load(r,ya(u===ne.INPUT?ae(r)&&wa(r)&&b?Kt(_,b):Jn:u===ne.LIMBO?Kt(_,E):Kt(_,f)),(h,R,D)=>{be("LOAD_FILE",h,{query:t}).then(R).catch(D)})},REQUEST_PREPARE_OUTPUT:({item:r,success:s,failure:a=()=>{}})=>{const i={error:J("error",0,"Item not found"),file:null};if(r.archived)return a(i);be("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(l=>{be("COMPLETE_PREPARE_OUTPUT",l,{query:t,item:r}).then(o=>{if(r.archived)return a(i);s(o)})})},COMPLETE_LOAD_ITEM:({item:r,data:s})=>{const{success:a,source:i}=s,l=t("GET_ITEM_INSERT_LOCATION");if(Ge(l)&&i&&Jt(n,l),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===ne.INPUT?null:i}),a(oe(r)),r.origin===ne.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===ne.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:i}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||i});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:ge(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:ge(n,(r,s,a)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:i=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:i}),s({file:r,output:i})},failure:a},!0)}),REQUEST_ITEM_PROCESSING:ge(n,(r,s,a)=>{if(!(r.status===V.IDLE||r.status===V.PROCESSING_ERROR)){const l=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:s,failure:a}),o=()=>document.hidden?l():setTimeout(l,32);r.status===V.PROCESSING_COMPLETE||r.status===V.PROCESSING_REVERT_ERROR?r.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(o).catch(()=>{}):r.status===V.PROCESSING&&r.abortProcessing().then(o);return}r.status!==V.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:s,failure:a},!0))}),PROCESS_ITEM:ge(n,(r,s,a)=>{const i=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",V.PROCESSING).length===i){n.processingQueue.push({id:r.id,success:s,failure:a});return}if(r.status===V.PROCESSING)return;const o=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:p,success:m,failure:_}=c,f=Ue(n.items,p);if(!f||f.archived){o();return}e("PROCESS_ITEM",{query:p,success:m,failure:_},!0)};r.onOnce("process-complete",()=>{s(oe(r)),o();const c=n.options.server;if(n.options.instantUpload&&r.origin===ne.LOCAL&&Ge(c.remove)){const _=()=>{};r.origin=ne.LIMBO,n.options.server.remove(r.source,_,_)}t("GET_ITEMS_BY_STATUS",V.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",c=>{a({error:c,file:oe(r)}),o()});const u=n.options;r.process(La(Aa(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,p,m)=>{be("PREPARE_OUTPUT",c,{query:t,item:r}).then(_=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:_}),p(_)}).catch(m)})}),RETRY_ITEM_PROCESSING:ge(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:ge(n,r=>{er(t("GET_BEFORE_REMOVE_FILE"),oe(r)).then(s=>{s&&e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:ge(n,r=>{r.release()}),REMOVE_ITEM:ge(n,(r,s,a,i)=>{const l=()=>{const u=r.id;Zn(n.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:r}),Zt(e,n),s(oe(r))},o=n.options.server;r.origin===ne.LOCAL&&o&&Ge(o.remove)&&i.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),o.remove(r.source,()=>l(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:J("error",0,u,null),status:{main:_t(n.options.labelFileRemoveError)(u),sub:n.options.labelTapToRetry}})})):((i.revert&&r.origin!==ne.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),l())}),ABORT_ITEM_LOAD:ge(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:ge(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:ge(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const s=l=>{l&&e("REVERT_ITEM_PROCESSING",{query:r})},a=t("GET_BEFORE_REMOVE_FILE");if(!a)return s(!0);const i=a(oe(r));if(i==null)return s(!0);if(typeof i=="boolean")return s(i);typeof i.then=="function"&&i.then(s)}),REVERT_ITEM_PROCESSING:ge(n,r=>{r.revert(ot(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||Na(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const s=Object.keys(r),a=Ga.filter(l=>s.includes(l));[...a,...Object.keys(r).filter(l=>!a.includes(l))].forEach(l=>{e(`SET_${Ht(l,"_").toUpperCase()}`,{value:r[l]})})}}),Ga=["server"],yn=e=>e,Le=e=>document.createElement(e),$=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},tr=(e,t,n,r)=>{const s=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}},Ua=(e,t,n,r,s,a)=>{const i=tr(e,t,n,s),l=tr(e,t,n,r);return["M",i.x,i.y,"A",n,n,0,a,0,l.x,l.y].join(" ")},Ba=(e,t,n,r,s)=>{let a=1;return s>r&&s-r<=.5&&(a=0),r>s&&r-s>=.5&&(a=0),Ua(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,s)*360,a)},Va=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=Mt("svg");e.ref.path=Mt("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},Ha=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(ee(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let s=0,a=0;t.spin?(s=0,a=.5):(s=0,a=t.progress);const i=Ba(r,r,r-n,s,a);ee(e.ref.path,"d",i),ee(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},nr=te({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Va,write:Ha,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),qa=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},ka=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,ee(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},os=te({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:qa,write:ka}),cs=(e,t=".",n=1e3,r={})=>{const{labelBytes:s="bytes",labelKilobytes:a="KB",labelMegabytes:i="MB",labelGigabytes:l="GB"}=r;e=Math.round(Math.abs(e));const o=n,u=n*n,c=n*n*n;return e<o?`${e} ${s}`:e<u?`${Math.floor(e/o)} ${a}`:e<c?`${rr(e/u,1,t)} ${i}`:`${rr(e/c,2,t)} ${l}`},rr=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),za=({root:e,props:t})=>{const n=Le("span");n.className="filepond--file-info-main",ee(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=Le("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,$(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),$(n,yn(e.query("GET_ITEM_NAME",t.id)))},on=({root:e,props:t})=>{$(e.ref.fileSize,cs(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),$(e.ref.fileName,yn(e.query("GET_ITEM_NAME",t.id)))},sr=({root:e,props:t})=>{if(at(e.query("GET_ITEM_SIZE",t.id))){on({root:e,props:t});return}$(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},Ya=te({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:le({DID_LOAD_ITEM:on,DID_UPDATE_ITEM_META:on,DID_THROW_ITEM_LOAD_ERROR:sr,DID_THROW_ITEM_INVALID:sr}),didCreateView:e=>{ke("CREATE_VIEW",{...e,view:e})},create:za,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),us=e=>Math.round(e*100),Wa=({root:e})=>{const t=Le("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=Le("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,ds({root:e,action:{progress:null}})},ds=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${us(t.progress)}%`;$(e.ref.main,n),$(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Xa=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${us(t.progress)}%`;$(e.ref.main,n),$(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ja=({root:e})=>{$(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),$(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},xa=({root:e})=>{$(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),$(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},Qa=({root:e})=>{$(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),$(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},ir=({root:e})=>{$(e.ref.main,""),$(e.ref.sub,"")},ct=({root:e,action:t})=>{$(e.ref.main,t.status.main),$(e.ref.sub,t.status.sub)},Ka=te({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:le({DID_LOAD_ITEM:ir,DID_REVERT_ITEM_PROCESSING:ir,DID_REQUEST_ITEM_PROCESSING:ja,DID_ABORT_ITEM_PROCESSING:xa,DID_COMPLETE_ITEM_PROCESSING:Qa,DID_UPDATE_ITEM_PROCESS_PROGRESS:Xa,DID_UPDATE_ITEM_LOAD_PROGRESS:ds,DID_THROW_ITEM_LOAD_ERROR:ct,DID_THROW_ITEM_INVALID:ct,DID_THROW_ITEM_PROCESSING_ERROR:ct,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:ct,DID_THROW_ITEM_REMOVE_ERROR:ct}),didCreateView:e=>{ke("CREATE_VIEW",{...e,view:e})},create:Wa,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),cn={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},un=[];K(cn,e=>{un.push(e)});const de=e=>{if(dn(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},Za=e=>e.ref.buttonAbortItemLoad.rect.element.width,gt=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Ja=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),$a=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),el=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),dn=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),tl={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:$a},processProgressIndicator:{opacity:0,align:el},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ar={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:de},status:{translateX:de}},$t={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},Xe={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:de},status:{translateX:de,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:de},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:dn},info:{translateX:de},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:dn},buttonRemoveItem:{opacity:1},info:{translateX:de},status:{opacity:1,translateX:de}},DID_LOAD_ITEM:ar,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:de},status:{translateX:de}},DID_START_ITEM_PROCESSING:$t,DID_REQUEST_ITEM_PROCESSING:$t,DID_UPDATE_ITEM_PROCESS_PROGRESS:$t,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:de}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:de},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ar},nl=te({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),rl=({root:e,props:t})=>{const n=Object.keys(cn).reduce((f,E)=>(f[E]={...cn[E]},f),{}),{id:r}=t,s=e.query("GET_ALLOW_REVERT"),a=e.query("GET_ALLOW_REMOVE"),i=e.query("GET_ALLOW_PROCESS"),l=e.query("GET_INSTANT_UPLOAD"),o=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;o?i&&!s?c=f=>!/RevertItemProcessing/.test(f):!i&&s?c=f=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(f):!i&&!s&&(c=f=>!/Process/.test(f)):c=f=>!/Process/.test(f);const p=c?un.filter(c):un.concat();if(l&&s&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),o&&!s){const f=Xe.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=Ja,f.info.translateY=gt,f.status.translateY=gt,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(o&&!i&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(f=>{Xe[f].status.translateY=gt}),Xe.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=Za),u&&s){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const f=Xe.DID_COMPLETE_ITEM_PROCESSING;f.info.translateX=de,f.status.translateY=gt,f.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}a||(n.RemoveItem.disabled=!0),K(n,(f,E)=>{const b=e.createChildView(os,{label:e.query(E.label),icon:e.query(E.icon),opacity:0});p.includes(f)&&e.appendChildView(b),E.disabled&&(b.element.setAttribute("disabled","disabled"),b.element.setAttribute("hidden","hidden")),b.element.dataset.align=e.query(`GET_STYLE_${E.align}`),b.element.classList.add(E.className),b.on("click",h=>{h.stopPropagation(),!E.disabled&&e.dispatch(E.action,{query:r})}),e.ref[`button${f}`]=b}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(nl)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(Ya,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Ka,{id:r}));const m=e.appendChildView(e.createChildView(nr,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));m.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=m;const _=e.appendChildView(e.createChildView(nr,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));_.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=_,e.ref.activeStyles=[]},sl=({root:e,actions:t,props:n})=>{il({root:e,actions:t,props:n});let r=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>Xe[s.type]);if(r){e.ref.activeStyles=[];const s=Xe[r.type];K(tl,(a,i)=>{const l=e.ref[a];K(i,(o,u)=>{const c=s[a]&&typeof s[a][o]<"u"?s[a][o]:u;e.ref.activeStyles.push({control:l,key:o,value:c})})})}e.ref.activeStyles.forEach(({control:s,key:a,value:i})=>{s[a]=typeof i=="function"?i(e):i})},il=le({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),al=te({create:rl,write:sl,didCreateView:e=>{ke("CREATE_VIEW",{...e,view:e})},name:"file"}),ll=({root:e,props:t})=>{e.ref.fileName=Le("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(al,{id:t.id})),e.ref.data=!1},ol=({root:e,props:t})=>{$(e.ref.fileName,yn(e.query("GET_ITEM_NAME",t.id)))},cl=te({create:ll,ignoreRect:!0,write:le({DID_LOAD_ITEM:ol}),didCreateView:e=>{ke("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),lr={type:"spring",damping:.6,mass:7},ul=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:lr},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:lr},styles:["translateY"]}}].forEach(n=>{dl(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},dl=(e,t,n)=>{const r=te({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),s=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(s)},fl=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=jr(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,s=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(s-n.height-r.height)/100,e.ref.bottom.translateY=s-r.height},fs=te({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:fl,create:ul,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),pl=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},or={type:"spring",stiffness:.75,damping:.45,mass:10},cr="spring",ur={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},ml=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(cl,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(fs,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let s=!1;const a={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const i=pl(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:i});const l=u=>{if(!u.isPrimary)return;u.stopPropagation(),u.preventDefault(),t.dragOffset={x:u.pageX-a.x,y:u.pageY-a.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!s&&(s=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:i})},o=u=>{u.isPrimary&&(document.removeEventListener("pointermove",l),document.removeEventListener("pointerup",o),t.dragOffset={x:u.pageX-a.x,y:u.pageY-a.y},e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:i}),s&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0))};document.addEventListener("pointermove",l),document.addEventListener("pointerup",o)};e.element.addEventListener("pointerdown",n)},El=le({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),_l=le({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let s=t.concat().filter(i=>/^DID_/.test(i.type)).reverse().find(i=>ur[i.type]);s&&s.type!==n.currentState&&(n.currentState=s.type,e.element.dataset.filepondItemState=ur[n.currentState]||"");const a=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");a?r||(e.height=e.rect.element.width*a):(El({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),gl=te({create:ml,write:_l,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:cr,scaleY:cr,translateX:or,translateY:or,opacity:{type:"tween",duration:150}}}});var Sn=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Dn=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,s=t.length;let a=null;if(s===0||n.top<t[0].rect.element.top)return-1;const l=t[0].rect.element,o=l.marginLeft+l.marginRight,u=l.width+o,c=Sn(r,u);if(c===1){for(let _=0;_<s;_++){const f=t[_],E=f.rect.outer.top+f.rect.element.height*.5;if(n.top<E)return _}return s}const p=l.marginTop+l.marginBottom,m=l.height+p;for(let _=0;_<s;_++){const f=_%c,E=Math.floor(_/c),b=f*u,h=E*m,R=h-l.marginTop,D=b+u,v=h+m+l.marginBottom;if(n.top<v&&n.top>R){if(n.left<D)return _;_!==s-1?a=_:a=null}}return a!==null?a:s},ht={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},hl=({root:e})=>{ee(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Il=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:s}=t;e.ref.addIndex=r;const a=Date.now();let i=a,l=1;if(s!==he.NONE){l=0;const o=e.query("GET_ITEM_INSERT_INTERVAL"),u=a-e.ref.lastItemSpanwDate;i=u<o?a+(o-u):a}e.ref.lastItemSpanwDate=i,e.appendChildView(e.createChildView(gl,{spawnDate:i,id:n,opacity:l,interactionMethod:s}),r)},dr=(e,t,n,r=0,s=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Tl(e,t,n,r,s),e.scaleX=1,e.scaleY=1,e.opacity=1))},Tl=(e,t,n,r,s)=>{e.interactionMethod===he.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===he.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-s*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===he.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===he.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Rl=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(s=>s.id===n);r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},en=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,bl=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Ol=({root:e,action:t})=>{const{id:n,dragState:r}=t,s=e.query("GET_ITEM",{id:n}),a=e.childViews.find(b=>b.id===n),i=e.childViews.length,l=r.getItemIndex(s);if(!a)return;const o={x:a.dragOrigin.x+a.dragOffset.x+a.dragCenter.x,y:a.dragOrigin.y+a.dragOffset.y+a.dragCenter.y},u=en(a),c=bl(a);let p=Math.floor(e.rect.outer.width/c);p>i&&(p=i);const m=Math.floor(i/p+1);ht.setHeight=u*m,ht.setWidth=c*p;var _={y:Math.floor(o.y/u),x:Math.floor(o.x/c),getGridIndex:function(){return o.y>ht.getHeight||o.y<0||o.x>ht.getWidth||o.x<0?l:this.y*p+this.x},getColIndex:function(){const h=e.query("GET_ACTIVE_ITEMS"),R=e.childViews.filter(g=>g.rect.element.height),D=h.map(g=>R.find(F=>F.id===g.id)),v=D.findIndex(g=>g===a),M=en(a),L=D.length;let U=L,A=0,O=0,P=0;for(let g=0;g<L;g++)if(A=en(D[g]),P=O,O=P+A,o.y<O){if(v>g){if(o.y<P+M){U=g;break}continue}U=g;break}return U}};const f=p>1?_.getGridIndex():_.getColIndex();e.dispatch("MOVE_ITEM",{query:a,index:f});const E=r.getIndex();if(E===void 0||E!==f){if(r.setIndex(f),E===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:l,target:f})}},yl=le({DID_ADD_ITEM:Il,DID_REMOVE_ITEM:Rl,DID_DRAG_ITEM:Ol}),Sl=({root:e,props:t,actions:n,shouldOptimize:r})=>{yl({root:e,props:t,actions:n});const{dragCoordinates:s}=t,a=e.rect.element.width,i=e.childViews.filter(D=>D.rect.element.height),l=e.query("GET_ACTIVE_ITEMS").map(D=>i.find(v=>v.id===D.id)).filter(D=>D),o=s?Dn(e,l,s):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,p=0,m=0;if(l.length===0)return;const _=l[0].rect.element,f=_.marginTop+_.marginBottom,E=_.marginLeft+_.marginRight,b=_.width+E,h=_.height+f,R=Sn(a,b);if(R===1){let D=0,v=0;l.forEach((M,L)=>{if(o){let O=L-o;O===-2?v=-f*.25:O===-1?v=-f*.75:O===0?v=f*.75:O===1?v=f*.25:v=0}r&&(M.translateX=null,M.translateY=null),M.markedForRemoval||dr(M,0,D+v);let A=(M.rect.element.height+f)*(M.markedForRemoval?M.opacity:1);D+=A})}else{let D=0,v=0;l.forEach((M,L)=>{L===o&&(c=1),L===u&&(m+=1),M.markedForRemoval&&M.opacity<.5&&(p-=1);const U=L+m+c+p,A=U%R,O=Math.floor(U/R),P=A*b,g=O*h,F=Math.sign(P-D),z=Math.sign(g-v);D=P,v=g,!M.markedForRemoval&&(r&&(M.translateX=null,M.translateY=null),dr(M,P,g,F,z))})}},Dl=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),Al=te({create:hl,write:Sl,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Dl,mixins:{apis:["dragCoordinates"]}}),vl=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Al)),t.dragCoordinates=null,t.overflowing=!1},Ll=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Cl=({props:e})=>{e.dragCoordinates=null},Ml=le({DID_DRAG:Ll,DID_END_DRAG:Cl}),Pl=({root:e,props:t,actions:n})=>{if(Ml({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},wl=te({create:vl,write:Pl,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),ye=(e,t,n,r="")=>{n?ee(e,t,r):e.removeAttribute(t)},Nl=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=Le("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},Fl=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,ee(e.element,"name",e.query("GET_NAME")),ee(e.element,"aria-controls",`filepond--assistant-${t.id}`),ee(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),ps({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),ms({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),Es({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),fn({root:e}),_s({root:e,action:{value:e.query("GET_REQUIRED")}}),gs({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(s=>(s._relativePath=s.webkitRelativePath,s));setTimeout(()=>{t.onload(r),Nl(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},ps=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&ye(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},ms=({root:e,action:t})=>{ye(e.element,"multiple",t.value)},Es=({root:e,action:t})=>{ye(e.element,"webkitdirectory",t.value)},fn=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;ye(e.element,"disabled",r)},_s=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&ye(e.element,"required",!0):ye(e.element,"required",!1)},gs=({root:e,action:t})=>{ye(e.element,"capture",!!t.value,t.value===!0?"":t.value)},fr=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(ye(t,"required",!1),ye(t,"name",!1)):(ye(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&ye(t,"required",!0))},Gl=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Ul=te({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:Fl,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:le({DID_LOAD_ITEM:fr,DID_REMOVE_ITEM:fr,DID_THROW_ITEM_INVALID:Gl,DID_SET_DISABLED:fn,DID_SET_ALLOW_BROWSE:fn,DID_SET_ALLOW_DIRECTORIES_ONLY:Es,DID_SET_ALLOW_MULTIPLE:ms,DID_SET_ACCEPTED_FILE_TYPES:ps,DID_SET_CAPTURE_METHOD:gs,DID_SET_REQUIRED:_s})}),pr={ENTER:13,SPACE:32},Bl=({root:e,props:t})=>{const n=Le("label");ee(n,"for",`filepond--browser-${t.id}`),ee(n,"id",`filepond--drop-label-${t.id}`),ee(n,"aria-hidden","true"),e.ref.handleKeyDown=r=>{(r.keyCode===pr.ENTER||r.keyCode===pr.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),hs(n,t.caption),e.appendChild(n),e.ref.label=n},hs=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&ee(n,"tabindex","0"),t},Vl=te({name:"drop-label",ignoreRect:!0,create:Bl,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:le({DID_SET_LABEL_IDLE:({root:e,action:t})=>{hs(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Hl=te({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),ql=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Hl,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},kl=({root:e,action:t})=>{if(!e.ref.blob){ql({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},zl=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},Yl=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},Wl=({root:e,props:t,actions:n})=>{Xl({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},Xl=le({DID_DRAG:kl,DID_DROP:Yl,DID_END_DRAG:zl}),jl=te({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:Wl}),Is=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},xl=({root:e})=>e.ref.fields={},zt=(e,t)=>e.ref.fields[t],An=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},mr=({root:e})=>An(e),Ql=({root:e,action:t})=>{const s=!(e.query("GET_ITEM",t.id).origin===ne.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),a=Le("input");a.type=s?"file":"hidden",a.name=e.query("GET_NAME"),a.disabled=e.query("GET_DISABLED"),e.ref.fields[t.id]=a,An(e)},Kl=({root:e,action:t})=>{const n=zt(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);Is(n,[r.file])},Zl=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=zt(e,t.id);n&&Is(n,[t.file])},0)},Jl=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},$l=({root:e,action:t})=>{const n=zt(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},eo=({root:e,action:t})=>{const n=zt(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.value=t.value,An(e))},to=le({DID_SET_DISABLED:Jl,DID_ADD_ITEM:Ql,DID_LOAD_ITEM:Kl,DID_REMOVE_ITEM:$l,DID_DEFINE_VALUE:eo,DID_PREPARE_OUTPUT:Zl,DID_REORDER_ITEMS:mr,DID_SORT_ITEMS:mr}),no=te({tag:"fieldset",name:"data",create:xl,write:to,ignoreRect:!0}),ro=e=>"getRootNode"in e?e.getRootNode():document,so=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],io=["css","csv","html","txt"],ao={zip:"zip|compressed",epub:"application/epub+zip"},Ts=(e="")=>(e=e.toLowerCase(),so.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):io.includes(e)?"text/"+e:ao[e]||""),vn=e=>new Promise((t,n)=>{const r=Eo(e);if(r.length&&!lo(e))return t(r);oo(e).then(t)}),lo=e=>e.files?e.files.length>0:!1,oo=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(s=>co(s)).map(s=>uo(s));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(s=>{const a=[];s.forEach(i=>{a.push.apply(a,i)}),t(a.filter(i=>i).map(i=>(i._relativePath||(i._relativePath=i.webkitRelativePath),i)))}).catch(console.error)}),co=e=>{if(Rs(e)){const t=Ln(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},uo=e=>new Promise((t,n)=>{if(mo(e)){fo(Ln(e)).then(t).catch(n);return}t([e.getAsFile()])}),fo=e=>new Promise((t,n)=>{const r=[];let s=0,a=0;const i=()=>{a===0&&s===0&&t(r)},l=o=>{s++;const u=o.createReader(),c=()=>{u.readEntries(p=>{if(p.length===0){s--,i();return}p.forEach(m=>{m.isDirectory?l(m):(a++,m.file(_=>{const f=po(_);m.fullPath&&(f._relativePath=m.fullPath),r.push(f),a--,i()}))}),c()},n)};c()};l(e)}),po=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=Ts(kt(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},mo=e=>Rs(e)&&(Ln(e)||{}).isDirectory,Rs=e=>"webkitGetAsEntry"in e,Ln=e=>e.webkitGetAsEntry(),Eo=e=>{let t=[];try{if(t=go(e),t.length)return t;t=_o(e)}catch{}return t},_o=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},go=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},wt=[],He=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),ho=(e,t,n)=>{const r=Io(t),s={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return s.destroy=r.addListener(s),s},Io=e=>{const t=wt.find(r=>r.element===e);if(t)return t;const n=To(e);return wt.push(n),n},To=e=>{const t=[],n={dragenter:bo,dragover:Oo,dragleave:So,drop:yo},r={};K(n,(a,i)=>{r[a]=i(e,t),e.addEventListener(a,r[a],!1)});const s={element:e,addListener:a=>(t.push(a),()=>{t.splice(t.indexOf(a),1),t.length===0&&(wt.splice(wt.indexOf(s),1),K(n,i=>{e.removeEventListener(i,r[i],!1)}))})};return s},Ro=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),Cn=(e,t)=>{const n=ro(t),r=Ro(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)};let bs=null;const It=(e,t)=>{try{e.dropEffect=t}catch{}},bo=(e,t)=>n=>{n.preventDefault(),bs=n.target,t.forEach(r=>{const{element:s,onenter:a}=r;Cn(n,s)&&(r.state="enter",a(He(n)))})},Oo=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;vn(r).then(s=>{let a=!1;t.some(i=>{const{filterElement:l,element:o,onenter:u,onexit:c,ondrag:p,allowdrop:m}=i;It(r,"copy");const _=m(s);if(!_){It(r,"none");return}if(Cn(n,o)){if(a=!0,i.state===null){i.state="enter",u(He(n));return}if(i.state="over",l&&!_){It(r,"none");return}p(He(n))}else l&&!a&&It(r,"none"),i.state&&(i.state=null,c(He(n)))})})},yo=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;vn(r).then(s=>{t.forEach(a=>{const{filterElement:i,element:l,ondrop:o,onexit:u,allowdrop:c}=a;if(a.state=null,!(i&&!Cn(n,l))){if(!c(s))return u(He(n));o(He(n),s)}})})},So=(e,t)=>n=>{bs===n.target&&t.forEach(r=>{const{onexit:s}=r;r.state=null,s(He(n))})},Do=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:s,filterItems:a=c=>c}=n,i=ho(e,r?document.documentElement:e,s);let l="",o="";i.allowdrop=c=>t(a(c)),i.ondrop=(c,p)=>{const m=a(p);if(!t(m)){u.ondragend(c);return}o="drag-drop",u.onload(m,c)},i.ondrag=c=>{u.ondrag(c)},i.onenter=c=>{o="drag-over",u.ondragstart(c)},i.onexit=c=>{o="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{l!==o&&(e.dataset.hopperState=o,l=o)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{i.destroy()}};return u};let pn=!1;const je=[],Os=e=>{const t=document.activeElement;if(t&&/textarea|input/i.test(t.nodeName)){let n=!1,r=t;for(;r!==document.body;){if(r.classList.contains("filepond--root")){n=!0;break}r=r.parentNode}if(!n)return}vn(e.clipboardData).then(n=>{n.length&&je.forEach(r=>r(n))})},Ao=e=>{je.includes(e)||(je.push(e),!pn&&(pn=!0,document.addEventListener("paste",Os)))},vo=e=>{Rn(je,je.indexOf(e)),je.length===0&&(document.removeEventListener("paste",Os),pn=!1)},Lo=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{vo(e)},onload:()=>{}};return Ao(e),t},Co=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,ee(e.element,"role","status"),ee(e.element,"aria-live","polite"),ee(e.element,"aria-relevant","additions")};let Er=null,_r=null;const tn=[],Yt=(e,t)=>{e.element.textContent=t},Mo=e=>{e.element.textContent=""},ys=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");Yt(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(_r),_r=setTimeout(()=>{Mo(e)},1500)},Ss=e=>e.element.parentNode.contains(document.activeElement),Po=({root:e,action:t})=>{if(!Ss(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);tn.push(n.filename),clearTimeout(Er),Er=setTimeout(()=>{ys(e,tn.join(", "),e.query("GET_LABEL_FILE_ADDED")),tn.length=0},750)},wo=({root:e,action:t})=>{if(!Ss(e))return;const n=t.item;ys(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},No=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Yt(e,`${r} ${s}`)},gr=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Yt(e,`${r} ${s}`)},Tt=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;Yt(e,`${t.status.main} ${r} ${t.status.sub}`)},Fo=te({create:Co,ignoreRect:!0,ignoreRectUpdate:!0,write:le({DID_LOAD_ITEM:Po,DID_REMOVE_ITEM:wo,DID_COMPLETE_ITEM_PROCESSING:No,DID_ABORT_ITEM_PROCESSING:gr,DID_REVERT_ITEM_PROCESSING:gr,DID_THROW_ITEM_REMOVE_ERROR:Tt,DID_THROW_ITEM_LOAD_ERROR:Tt,DID_THROW_ITEM_INVALID:Tt,DID_THROW_ITEM_PROCESSING_ERROR:Tt}),tag:"span",name:"assistant"}),Ds=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),As=(e,t=16,n=!0)=>{let r=Date.now(),s=null;return(...a)=>{clearTimeout(s);const i=Date.now()-r,l=()=>{r=Date.now(),e(...a)};i<t?n||(s=setTimeout(l,t-i)):l()}},Go=1e6,Nt=e=>e.preventDefault(),Uo=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(o=>o.length).forEach(o=>{e.element.classList.add(o)}),e.ref.label=e.appendChildView(e.createChildView(Vl,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(wl,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(fs,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(Fo,{...t})),e.ref.data=e.appendChildView(e.createChildView(no,{...t})),e.ref.measure=Le("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(o=>!ve(o.value)).map(({name:o,value:u})=>{e.element.dataset[o]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=As(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const s=window.matchMedia("(pointer: fine) and (hover: hover)").matches,a="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&a&&!s&&(e.element.addEventListener("touchmove",Nt,{passive:!1}),e.element.addEventListener("gesturestart",Nt));const i=e.query("GET_CREDITS");if(i.length===2){const o=document.createElement("a");o.className="filepond--credits",o.setAttribute("aria-hidden","true"),o.href=i[0],o.tabindex=-1,o.target="_blank",o.rel="noopener noreferrer",o.textContent=i[1],e.element.appendChild(o),e.ref.credits=o}},Bo=({root:e,props:t,actions:n})=>{if(zo({root:e,props:t,actions:n}),n.filter(L=>/^DID_SET_STYLE_/.test(L.type)).filter(L=>!ve(L.data.value)).map(({type:L,data:U})=>{const A=Ds(L.substring(8).toLowerCase(),"_");e.element.dataset[A]=U.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=qo(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:s,label:a,list:i,panel:l}=e.ref;s&&s.updateHopperState();const o=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),p=u?e.query("GET_MAX_FILES")||Go:1,m=c===p,_=n.find(L=>L.type==="DID_ADD_ITEM");if(m&&_){const L=_.data.interactionMethod;a.opacity=0,u?a.translateY=-40:L===he.API?a.translateX=40:L===he.BROWSE?a.translateY=40:a.translateY=30}else m||(a.opacity=1,a.translateX=0,a.translateY=0);const f=Vo(e),E=Ho(e),b=a.rect.element.height,h=!u||m?0:b,R=m?i.rect.element.marginTop:0,D=c===0?0:i.rect.element.marginBottom,v=h+R+E.visual+D,M=h+R+E.bounds+D;if(i.translateY=Math.max(0,h-i.rect.element.marginTop)-f.top,o){const L=e.rect.element.width,U=L*o;o!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=o,e.ref.updateHistory=[]);const A=e.ref.updateHistory;A.push(L);const O=2;if(A.length>O*2){const g=A.length,F=g-10;let z=0;for(let d=g;d>=F;d--)if(A[d]===A[d-2]&&z++,z>=O)return}l.scalable=!1,l.height=U;const P=U-h-(D-f.bottom)-(m?R:0);E.visual>P?i.overflow=P:i.overflow=null,e.height=U}else if(r.fixedHeight){l.scalable=!1;const L=r.fixedHeight-h-(D-f.bottom)-(m?R:0);E.visual>L?i.overflow=L:i.overflow=null}else if(r.cappedHeight){const L=v>=r.cappedHeight,U=Math.min(r.cappedHeight,v);l.scalable=!0,l.height=L?U:U-f.top-f.bottom;const A=U-h-(D-f.bottom)-(m?R:0);v>r.cappedHeight&&E.visual>A?i.overflow=A:i.overflow=null,e.height=Math.min(r.cappedHeight,M-f.top-f.bottom)}else{const L=c>0?f.top+f.bottom:0;l.scalable=!0,l.height=Math.max(b,v-L),e.height=Math.max(b,M-L)}e.ref.credits&&l.heightCurrent&&(e.ref.credits.style.transform=`translateY(${l.heightCurrent}px)`)},Vo=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Ho=e=>{let t=0,n=0;const r=e.ref.list,s=r.childViews[0],a=s.childViews.filter(R=>R.rect.element.height),i=e.query("GET_ACTIVE_ITEMS").map(R=>a.find(D=>D.id===R.id)).filter(R=>R);if(i.length===0)return{visual:t,bounds:n};const l=s.rect.element.width,o=Dn(s,i,r.dragCoordinates),u=i[0].rect.element,c=u.marginTop+u.marginBottom,p=u.marginLeft+u.marginRight,m=u.width+p,_=u.height+c,f=typeof o<"u"&&o>=0?1:0,E=i.find(R=>R.markedForRemoval&&R.opacity<.45)?-1:0,b=i.length+f+E,h=Sn(l,m);return h===1?i.forEach(R=>{const D=R.rect.element.height+c;n+=D,t+=D*R.opacity}):(n=Math.ceil(b/h)*_,t=n),{visual:t,bounds:n}},qo=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},Mn=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),s=e.query("GET_TOTAL_ITEMS");let a=e.query("GET_MAX_FILES");const i=t.length;return!r&&i>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:J("warning",0,"Max files")}),!0):(a=r?a:1,!r&&n?!1:at(a)&&s+i>a?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:J("warning",0,"Max files")}),!0):!1)},ko=(e,t,n)=>{const r=e.childViews[0];return Dn(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},hr=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const s=Do(e.element,a=>{const i=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?a.every(o=>ke("ALLOW_HOPPER_ITEM",o,{query:e.query}).every(u=>u===!0)&&i(o)):!0},{filterItems:a=>{const i=e.query("GET_IGNORED_FILES");return a.filter(l=>$e(l)?!i.includes(l.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});s.onload=(a,i)=>{const o=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(c=>o.find(p=>p.id===c.id)).filter(c=>c);be("ADD_ITEMS",a,{dispatch:e.dispatch}).then(c=>{if(Mn(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:ko(e.ref.list,u,i),interactionMethod:he.DROP})}),e.dispatch("DID_DROP",{position:i}),e.dispatch("DID_END_DRAG",{position:i})},s.ondragstart=a=>{e.dispatch("DID_START_DRAG",{position:a})},s.ondrag=As(a=>{e.dispatch("DID_DRAG",{position:a})}),s.ondragend=a=>{e.dispatch("DID_END_DRAG",{position:a})},e.ref.hopper=s,e.ref.drip=e.appendChildView(e.createChildView(jl))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Ir=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),s=n&&!r;s&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Ul,{...t,onload:a=>{be("ADD_ITEMS",a,{dispatch:e.dispatch}).then(i=>{if(Mn(e,i))return!1;e.dispatch("ADD_ITEMS",{items:i,index:-1,interactionMethod:he.BROWSE})})}}),0):!s&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},Tr=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=Lo(),e.ref.paster.onload=s=>{be("ADD_ITEMS",s,{dispatch:e.dispatch}).then(a=>{if(Mn(e,a))return!1;e.dispatch("ADD_ITEMS",{items:a,index:-1,interactionMethod:he.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},zo=le({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Ir(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{hr(e)},DID_SET_ALLOW_PASTE:({root:e})=>{Tr(e)},DID_SET_DISABLED:({root:e,props:t})=>{hr(e),Tr(e),Ir(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),Yo=te({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Uo,write:Bo,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",Nt),e.element.removeEventListener("gesturestart",Nt)},mixins:{styles:["height"]}}),Wo=(e={})=>{let t=null;const n=Pt(),r=ai(Wi(n),[ua,xi(n)],[Fa,ji(n)]);r.dispatch("SET_OPTIONS",{options:e});const s=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",s);let a=null,i=!1,l=!1,o=null,u=null;const c=()=>{i||(i=!0),clearTimeout(a),a=setTimeout(()=>{i=!1,o=null,u=null,l&&(l=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const p=Yo(r,{id:Tn()});let m=!1,_=!1;const f={_read:()=>{i&&(u=window.innerWidth,o||(o=u),!l&&u!==o&&(r.dispatch("DID_START_RESIZE"),l=!0)),_&&m&&(m=p.element.offsetParent===null),!m&&(p._read(),_=p.rect.element.hidden)},_write:I=>{const S=r.processActionQueue().filter(B=>!/^SET_/.test(B.type));m&&!S.length||(R(S),m=p._write(I,S,l),Zi(r.query("GET_ITEMS")),m&&r.processDispatchQueue())}},E=I=>S=>{const B={type:I};if(!S)return B;if(S.hasOwnProperty("error")&&(B.error=S.error?{...S.error}:null),S.status&&(B.status={...S.status}),S.file&&(B.output=S.file),S.source)B.file=S.source;else if(S.item||S.id){const G=S.item?S.item:r.query("GET_ITEM",S.id);B.file=G?oe(G):null}return S.items&&(B.items=S.items.map(oe)),/progress/.test(I)&&(B.progress=S.progress),S.hasOwnProperty("origin")&&S.hasOwnProperty("target")&&(B.origin=S.origin,B.target=S.target),B},b={DID_DESTROY:E("destroy"),DID_INIT:E("init"),DID_THROW_MAX_FILES:E("warning"),DID_INIT_ITEM:E("initfile"),DID_START_ITEM_LOAD:E("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:E("addfileprogress"),DID_LOAD_ITEM:E("addfile"),DID_THROW_ITEM_INVALID:[E("error"),E("addfile")],DID_THROW_ITEM_LOAD_ERROR:[E("error"),E("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[E("error"),E("removefile")],DID_PREPARE_OUTPUT:E("preparefile"),DID_START_ITEM_PROCESSING:E("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:E("processfileprogress"),DID_ABORT_ITEM_PROCESSING:E("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:E("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:E("processfiles"),DID_REVERT_ITEM_PROCESSING:E("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[E("error"),E("processfile")],DID_REMOVE_ITEM:E("removefile"),DID_UPDATE_ITEMS:E("updatefiles"),DID_ACTIVATE_ITEM:E("activatefile"),DID_REORDER_ITEMS:E("reorderfiles")},h=I=>{const S={pond:y,...I};delete S.type,p.element.dispatchEvent(new CustomEvent(`FilePond:${I.type}`,{detail:S,bubbles:!0,cancelable:!0,composed:!0}));const B=[];I.hasOwnProperty("error")&&B.push(I.error),I.hasOwnProperty("file")&&B.push(I.file);const G=["type","error","file"];Object.keys(I).filter(x=>!G.includes(x)).forEach(x=>B.push(I[x])),y.fire(I.type,...B);const Y=r.query(`GET_ON${I.type.toUpperCase()}`);Y&&Y(...B)},R=I=>{I.length&&I.filter(S=>b[S.type]).forEach(S=>{const B=b[S.type];(Array.isArray(B)?B:[B]).forEach(G=>{S.type==="DID_INIT_ITEM"?h(G(S.data)):setTimeout(()=>{h(G(S.data))},0)})})},D=I=>r.dispatch("SET_OPTIONS",{options:I}),v=I=>r.query("GET_ACTIVE_ITEM",I),M=I=>new Promise((S,B)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:I,success:G=>{S(G)},failure:G=>{B(G)}})}),L=(I,S={})=>new Promise((B,G)=>{O([{source:I,options:S}],{index:S.index}).then(Y=>B(Y&&Y[0])).catch(G)}),U=I=>I.file&&I.id,A=(I,S)=>(typeof I=="object"&&!U(I)&&!S&&(S=I,I=void 0),r.dispatch("REMOVE_ITEM",{...S,query:I}),r.query("GET_ACTIVE_ITEM",I)===null),O=(...I)=>new Promise((S,B)=>{const G=[],Y={};if(Bt(I[0]))G.push.apply(G,I[0]),Object.assign(Y,I[1]||{});else{const x=I[I.length-1];typeof x=="object"&&!(x instanceof Blob)&&Object.assign(Y,I.pop()),G.push(...I)}r.dispatch("ADD_ITEMS",{items:G,index:Y.index,interactionMethod:he.API,success:S,failure:B})}),P=()=>r.query("GET_ACTIVE_ITEMS"),g=I=>new Promise((S,B)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:I,success:G=>{S(G)},failure:G=>{B(G)}})}),F=(...I)=>{const S=Array.isArray(I[0])?I[0]:I,B=S.length?S:P();return Promise.all(B.map(M))},z=(...I)=>{const S=Array.isArray(I[0])?I[0]:I;if(!S.length){const B=P().filter(G=>!(G.status===V.IDLE&&G.origin===ne.LOCAL)&&G.status!==V.PROCESSING&&G.status!==V.PROCESSING_COMPLETE&&G.status!==V.PROCESSING_REVERT_ERROR);return Promise.all(B.map(g))}return Promise.all(S.map(g))},d=(...I)=>{const S=Array.isArray(I[0])?I[0]:I;let B;typeof S[S.length-1]=="object"?B=S.pop():Array.isArray(I[0])&&(B=I[1]);const G=P();return S.length?S.map(x=>Fe(x)?G[x]?G[x].id:null:x).filter(x=>x).map(x=>A(x,B)):Promise.all(G.map(x=>A(x,B)))},y={...qt(),...f,...Xi(r,n),setOptions:D,addFile:L,addFiles:O,getFile:v,processFile:g,prepareFile:M,removeFile:A,moveFile:(I,S)=>r.dispatch("MOVE_ITEM",{query:I,index:S}),getFiles:P,processFiles:z,removeFiles:d,prepareFiles:F,sort:I=>r.dispatch("SORT",{compare:I}),browse:()=>{var I=p.element.querySelector("input[type=file]");I&&I.click()},destroy:()=>{y.fire("destroy",p.element),r.dispatch("ABORT_ALL"),p._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",s),r.dispatch("DID_DESTROY")},insertBefore:I=>zn(p.element,I),insertAfter:I=>Yn(p.element,I),appendTo:I=>I.appendChild(p.element),replaceElement:I=>{zn(p.element,I),I.parentNode.removeChild(I),t=I},restoreElement:()=>{t&&(Yn(t,p.element),p.element.parentNode.removeChild(p.element),t=null)},isAttachedTo:I=>p.element===I||t===I,element:{get:()=>p.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),Pe(y)},vs=(e={})=>{const t={};return K(Pt(),(r,s)=>{t[r]=s[0]}),Wo({...t,...e})},Xo=e=>e.charAt(0).toLowerCase()+e.slice(1),jo=e=>Ds(e.replace(/^data-/,"")),Ls=(e,t)=>{K(t,(n,r)=>{K(e,(s,a)=>{const i=new RegExp(n);if(!i.test(s)||(delete e[s],r===!1))return;if(ae(r)){e[r]=a;return}const o=r.group;re(r)&&!e[o]&&(e[o]={}),e[o][Xo(s.replace(i,""))]=a}),r.mapping&&Ls(e[r.group],r.mapping)})},xo=(e,t={})=>{const n=[];K(e.attributes,s=>{n.push(e.attributes[s])});const r=n.filter(s=>s.name).reduce((s,a)=>{const i=ee(e,a.name);return s[jo(a.name)]=i===a.name?!0:i,s},{});return Ls(r,t),r},Qo=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};ke("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},s=xo(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(s).forEach(i=>{re(s[i])?(re(r[i])||(r[i]={}),Object.assign(r[i],s[i])):r[i]=s[i]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(i=>({source:i.value,options:{type:i.dataset.type}})));const a=vs(r);return e.files&&Array.from(e.files).forEach(i=>{a.addFile(i)}),a.replaceElement(e),a},Ko=(...e)=>ii(e[0])?Qo(...e):vs(...e),Zo=["fire","_read","_write"],Rr=e=>{const t={};return Zr(e,t,Zo),t},Jo=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),$o=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(s,a)=>{},post:(s,a,i)=>{const l=Tn();r.onmessage=o=>{o.data.id===l&&a(o.data.message)},r.postMessage({id:l,message:s},i)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},ec=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=s=>{n(s)},r.src=e}),Cs=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},tc=e=>Cs(e,e.name),br=[],nc=e=>{if(br.includes(e))return;br.push(e);const t=e({addFilter:$i,utils:{Type:T,forin:K,isString:ae,isFile:$e,toNaturalFileSize:cs,replaceInString:Jo,getExtensionFromFilename:kt,getFilenameWithoutExtension:as,guesstimateMimeType:Ts,getFileFromBlob:Je,getFilenameFromURL:pt,createRoute:le,createWorker:$o,createView:te,createItemAPI:oe,loadImage:ec,copyFile:tc,renameFile:Cs,createBlob:rs,applyFilterChain:be,text:$,getNumericAspectRatioFromString:es},views:{fileActionButton:os}});ea(t.options)},rc=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",sc=()=>"Promise"in window,ic=()=>"slice"in Blob.prototype,ac=()=>"URL"in window&&"createObjectURL"in window.URL,lc=()=>"visibilityState"in document,oc=()=>"performance"in window,cc=()=>"supports"in(window.CSS||{}),uc=()=>/MSIE|Trident/.test(window.navigator.userAgent),mn=(()=>{const e=Wr()&&!rc()&&lc()&&sc()&&ic()&&ac()&&oc()&&(cc()||uc());return()=>e})(),Me={apps:[]},dc="filepond",ze=()=>{};let Or={},At=ze,nn=ze,yr=ze,Sr=ze,En=ze,Dr=ze,Ar=ze;if(mn()){Mi(()=>{Me.apps.forEach(n=>n._read())},n=>{Me.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:mn,create:At,destroy:nn,parse:yr,find:Sr,registerPlugin:En,setOptions:Ar}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>K(Pt(),(n,r)=>{Or[n]=r[1]});Or={},t(),At=(...n)=>{const r=Ko(...n);return r.on("destroy",nn),Me.apps.push(r),Rr(r)},nn=n=>{const r=Me.apps.findIndex(s=>s.isAttachedTo(n));return r>=0?(Me.apps.splice(r,1)[0].restoreElement(),!0):!1},yr=n=>Array.from(n.querySelectorAll(`.${dc}`)).filter(a=>!Me.apps.find(i=>i.isAttachedTo(a))).map(a=>At(a)),Sr=n=>{const r=Me.apps.find(s=>s.isAttachedTo(n));return r?Rr(r):null},En=(...n)=>{n.forEach(nc),t()},Dr=()=>{const n={};return K(Pt(),(r,s)=>{n[r]=s[0]}),n},Ar=n=>(re(n)&&(Me.apps.forEach(r=>{r.setOptions(n)}),ta(n)),Dr())}function fc(e){let t,n;return{c(){t=H("div"),n=H("input"),q(n,"type","file"),q(n,"id",e[1]),q(n,"name",e[2]),q(n,"class",e[0]),q(n,"accept",e[6]),n.multiple=e[3],n.required=e[4],q(n,"capture",e[5]),q(t,"class","filepond--wrapper")},m(r,s){w(r,t,s),fe(t,n),e[24](n)},p(r,[s]){s&2&&q(n,"id",r[1]),s&4&&q(n,"name",r[2]),s&1&&q(n,"class",r[0]),s&64&&q(n,"accept",r[6]),s&8&&(n.multiple=r[3]),s&16&&(n.required=r[4]),s&32&&q(n,"capture",r[5])},i:Se,o:Se,d(r){r&&N(t),e[24](null)}}}function pc(e,t,n){const r=En,s=mn();let a,i,{class:l=void 0}=t,{id:o=void 0}=t,{name:u=void 0}=t,{allowMultiple:c=void 0}=t,{required:p=void 0}=t,{captureMethod:m=void 0}=t,{acceptedFileTypes:_=void 0}=t;const f=()=>{};let{addFile:E=f}=t,{addFiles:b=f}=t,{browse:h=f}=t,{fireSync:R=f}=t,{getFile:D=f}=t,{getFiles:v=f}=t,{moveFile:M=f}=t,{prepareFile:L=f}=t,{prepareFiles:U=f}=t,{processFile:A=f}=t,{processFiles:O=f}=t,{removeFile:P=f}=t,{removeFiles:g=f}=t,{sort:F=f}=t;Vs(()=>{s&&(i?i.setOptions(t):(i=At(a,{...t}),n(8,E=i.addFile),n(9,b=i.addFiles),n(19,P=i.removeFile),n(20,g=i.removeFiles),n(10,h=i.browse),n(11,R=i.fireSync),n(12,D=i.getFile),n(13,v=i.getFiles),n(14,M=i.moveFile),n(15,L=i.prepareFile),n(16,U=i.prepareFiles),n(17,A=i.processFile),n(18,O=i.processFiles),n(19,P=i.removeFile),n(20,g=i.removeFiles),n(21,F=i.sort)))}),Hr(()=>{i&&(i.destroy(),i=void 0)});function z(d){Ze[d?"unshift":"push"](()=>{a=d,n(7,a)})}return e.$$set=d=>{n(27,t=ce(ce({},t),we(d))),"class"in d&&n(0,l=d.class),"id"in d&&n(1,o=d.id),"name"in d&&n(2,u=d.name),"allowMultiple"in d&&n(3,c=d.allowMultiple),"required"in d&&n(4,p=d.required),"captureMethod"in d&&n(5,m=d.captureMethod),"acceptedFileTypes"in d&&n(6,_=d.acceptedFileTypes),"addFile"in d&&n(8,E=d.addFile),"addFiles"in d&&n(9,b=d.addFiles),"browse"in d&&n(10,h=d.browse),"fireSync"in d&&n(11,R=d.fireSync),"getFile"in d&&n(12,D=d.getFile),"getFiles"in d&&n(13,v=d.getFiles),"moveFile"in d&&n(14,M=d.moveFile),"prepareFile"in d&&n(15,L=d.prepareFile),"prepareFiles"in d&&n(16,U=d.prepareFiles),"processFile"in d&&n(17,A=d.processFile),"processFiles"in d&&n(18,O=d.processFiles),"removeFile"in d&&n(19,P=d.removeFile),"removeFiles"in d&&n(20,g=d.removeFiles),"sort"in d&&n(21,F=d.sort)},t=we(t),[l,o,u,c,p,m,_,a,E,b,h,R,D,v,M,L,U,A,O,P,g,F,r,s,z]}class Ms extends et{constructor(t){super(),tt(this,t,pc,fc,Ne,{registerPlugin:22,isSupported:23,class:0,id:1,name:2,allowMultiple:3,required:4,captureMethod:5,acceptedFileTypes:6,addFile:8,addFiles:9,browse:10,fireSync:11,getFile:12,getFiles:13,moveFile:14,prepareFile:15,prepareFiles:16,processFile:17,processFiles:18,removeFile:19,removeFiles:20,sort:21})}get registerPlugin(){return this.$$.ctx[22]}get isSupported(){return this.$$.ctx[23]}get class(){return this.$$.ctx[0]}set class(t){this.$$set({class:t}),Z()}get id(){return this.$$.ctx[1]}set id(t){this.$$set({id:t}),Z()}get name(){return this.$$.ctx[2]}set name(t){this.$$set({name:t}),Z()}get allowMultiple(){return this.$$.ctx[3]}set allowMultiple(t){this.$$set({allowMultiple:t}),Z()}get required(){return this.$$.ctx[4]}set required(t){this.$$set({required:t}),Z()}get captureMethod(){return this.$$.ctx[5]}set captureMethod(t){this.$$set({captureMethod:t}),Z()}get acceptedFileTypes(){return this.$$.ctx[6]}set acceptedFileTypes(t){this.$$set({acceptedFileTypes:t}),Z()}get addFile(){return this.$$.ctx[8]}set addFile(t){this.$$set({addFile:t}),Z()}get addFiles(){return this.$$.ctx[9]}set addFiles(t){this.$$set({addFiles:t}),Z()}get browse(){return this.$$.ctx[10]}set browse(t){this.$$set({browse:t}),Z()}get fireSync(){return this.$$.ctx[11]}set fireSync(t){this.$$set({fireSync:t}),Z()}get getFile(){return this.$$.ctx[12]}set getFile(t){this.$$set({getFile:t}),Z()}get getFiles(){return this.$$.ctx[13]}set getFiles(t){this.$$set({getFiles:t}),Z()}get moveFile(){return this.$$.ctx[14]}set moveFile(t){this.$$set({moveFile:t}),Z()}get prepareFile(){return this.$$.ctx[15]}set prepareFile(t){this.$$set({prepareFile:t}),Z()}get prepareFiles(){return this.$$.ctx[16]}set prepareFiles(t){this.$$set({prepareFiles:t}),Z()}get processFile(){return this.$$.ctx[17]}set processFile(t){this.$$set({processFile:t}),Z()}get processFiles(){return this.$$.ctx[18]}set processFiles(t){this.$$set({processFiles:t}),Z()}get removeFile(){return this.$$.ctx[19]}set removeFile(t){this.$$set({removeFile:t}),Z()}get removeFiles(){return this.$$.ctx[20]}set removeFiles(t){this.$$set({removeFiles:t}),Z()}get sort(){return this.$$.ctx[21]}set sort(t){this.$$set({sort:t}),Z()}}var _n=function(e,t){return _n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},_n(e,t)};function Ps(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");_n(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var qe=function(){return qe=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},qe.apply(this,arguments)};function Rt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ws=function(){function e(t){t===void 0&&(t={}),this.adapter=t}return Object.defineProperty(e,"cssClasses",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"strings",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"numbers",{get:function(){return{}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultAdapter",{get:function(){return{}},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.destroy=function(){},e}();/**
 * @license
 * Copyright 2019 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function mc(e){return e===void 0&&(e=window),Ec(e)?{passive:!0}:!1}function Ec(e){e===void 0&&(e=window);var t=!1;try{var n={get passive(){return t=!0,!1}},r=function(){};e.document.addEventListener("test",r,n),e.document.removeEventListener("test",r,n)}catch{t=!1}return t}const _c=Object.freeze(Object.defineProperty({__proto__:null,applyPassive:mc},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */function gc(e,t){if(e.closest)return e.closest(t);for(var n=e;n;){if(Ns(n,t))return n;n=n.parentElement}return null}function Ns(e,t){var n=e.matches||e.webkitMatchesSelector||e.msMatchesSelector;return n.call(e,t)}function hc(e){var t=e;if(t.offsetParent!==null)return t.scrollWidth;var n=t.cloneNode(!0);n.style.setProperty("position","absolute"),n.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(n);var r=n.scrollWidth;return document.documentElement.removeChild(n),r}const Ic=Object.freeze(Object.defineProperty({__proto__:null,closest:gc,estimateScrollWidth:hc,matches:Ns},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Tc={BG_FOCUSED:"mdc-ripple-upgraded--background-focused",FG_ACTIVATION:"mdc-ripple-upgraded--foreground-activation",FG_DEACTIVATION:"mdc-ripple-upgraded--foreground-deactivation",ROOT:"mdc-ripple-upgraded",UNBOUNDED:"mdc-ripple-upgraded--unbounded"},Rc={VAR_FG_SCALE:"--mdc-ripple-fg-scale",VAR_FG_SIZE:"--mdc-ripple-fg-size",VAR_FG_TRANSLATE_END:"--mdc-ripple-fg-translate-end",VAR_FG_TRANSLATE_START:"--mdc-ripple-fg-translate-start",VAR_LEFT:"--mdc-ripple-left",VAR_TOP:"--mdc-ripple-top"},vr={DEACTIVATION_TIMEOUT_MS:225,FG_DEACTIVATION_MS:150,INITIAL_ORIGIN_SCALE:.6,PADDING:10,TAP_DELAY_MS:300},bt;function bc(e,t){t===void 0&&(t=!1);var n=e.CSS,r=bt;if(typeof bt=="boolean"&&!t)return bt;var s=n&&typeof n.supports=="function";if(!s)return!1;var a=n.supports("--css-vars","yes"),i=n.supports("(--css-vars: yes)")&&n.supports("color","#00000000");return r=a||i,t||(bt=r),r}function Oc(e,t,n){if(!e)return{x:0,y:0};var r=t.x,s=t.y,a=r+n.left,i=s+n.top,l,o;if(e.type==="touchstart"){var u=e;l=u.changedTouches[0].pageX-a,o=u.changedTouches[0].pageY-i}else{var c=e;l=c.pageX-a,o=c.pageY-i}return{x:l,y:o}}/**
 * @license
 * Copyright 2016 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Lr=["touchstart","pointerdown","mousedown","keydown"],Cr=["touchend","pointerup","mouseup","contextmenu"],Ot=[],yc=function(e){Ps(t,e);function t(n){var r=e.call(this,qe(qe({},t.defaultAdapter),n))||this;return r.activationAnimationHasEnded=!1,r.activationTimer=0,r.fgDeactivationRemovalTimer=0,r.fgScale="0",r.frame={width:0,height:0},r.initialSize=0,r.layoutFrame=0,r.maxRadius=0,r.unboundedCoords={left:0,top:0},r.activationState=r.defaultActivationState(),r.activationTimerCallback=function(){r.activationAnimationHasEnded=!0,r.runDeactivationUXLogicIfReady()},r.activateHandler=function(s){r.activateImpl(s)},r.deactivateHandler=function(){r.deactivateImpl()},r.focusHandler=function(){r.handleFocus()},r.blurHandler=function(){r.handleBlur()},r.resizeHandler=function(){r.layout()},r}return Object.defineProperty(t,"cssClasses",{get:function(){return Tc},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Rc},enumerable:!1,configurable:!0}),Object.defineProperty(t,"numbers",{get:function(){return vr},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},browserSupportsCssVars:function(){return!0},computeBoundingRect:function(){return{top:0,right:0,bottom:0,left:0,width:0,height:0}},containsEventTarget:function(){return!0},deregisterDocumentInteractionHandler:function(){},deregisterInteractionHandler:function(){},deregisterResizeHandler:function(){},getWindowPageOffset:function(){return{x:0,y:0}},isSurfaceActive:function(){return!0},isSurfaceDisabled:function(){return!0},isUnbounded:function(){return!0},registerDocumentInteractionHandler:function(){},registerInteractionHandler:function(){},registerResizeHandler:function(){},removeClass:function(){},updateCssVariable:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this,r=this.supportsPressRipple();if(this.registerRootHandlers(r),r){var s=t.cssClasses,a=s.ROOT,i=s.UNBOUNDED;requestAnimationFrame(function(){n.adapter.addClass(a),n.adapter.isUnbounded()&&(n.adapter.addClass(i),n.layoutInternal())})}},t.prototype.destroy=function(){var n=this;if(this.supportsPressRipple()){this.activationTimer&&(clearTimeout(this.activationTimer),this.activationTimer=0,this.adapter.removeClass(t.cssClasses.FG_ACTIVATION)),this.fgDeactivationRemovalTimer&&(clearTimeout(this.fgDeactivationRemovalTimer),this.fgDeactivationRemovalTimer=0,this.adapter.removeClass(t.cssClasses.FG_DEACTIVATION));var r=t.cssClasses,s=r.ROOT,a=r.UNBOUNDED;requestAnimationFrame(function(){n.adapter.removeClass(s),n.adapter.removeClass(a),n.removeCssVars()})}this.deregisterRootHandlers(),this.deregisterDeactivationHandlers()},t.prototype.activate=function(n){this.activateImpl(n)},t.prototype.deactivate=function(){this.deactivateImpl()},t.prototype.layout=function(){var n=this;this.layoutFrame&&cancelAnimationFrame(this.layoutFrame),this.layoutFrame=requestAnimationFrame(function(){n.layoutInternal(),n.layoutFrame=0})},t.prototype.setUnbounded=function(n){var r=t.cssClasses.UNBOUNDED;n?this.adapter.addClass(r):this.adapter.removeClass(r)},t.prototype.handleFocus=function(){var n=this;requestAnimationFrame(function(){return n.adapter.addClass(t.cssClasses.BG_FOCUSED)})},t.prototype.handleBlur=function(){var n=this;requestAnimationFrame(function(){return n.adapter.removeClass(t.cssClasses.BG_FOCUSED)})},t.prototype.supportsPressRipple=function(){return this.adapter.browserSupportsCssVars()},t.prototype.defaultActivationState=function(){return{activationEvent:void 0,hasDeactivationUXRun:!1,isActivated:!1,isProgrammatic:!1,wasActivatedByPointer:!1,wasElementMadeActive:!1}},t.prototype.registerRootHandlers=function(n){var r,s;if(n){try{for(var a=Rt(Lr),i=a.next();!i.done;i=a.next()){var l=i.value;this.adapter.registerInteractionHandler(l,this.activateHandler)}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}this.adapter.isUnbounded()&&this.adapter.registerResizeHandler(this.resizeHandler)}this.adapter.registerInteractionHandler("focus",this.focusHandler),this.adapter.registerInteractionHandler("blur",this.blurHandler)},t.prototype.registerDeactivationHandlers=function(n){var r,s;if(n.type==="keydown")this.adapter.registerInteractionHandler("keyup",this.deactivateHandler);else try{for(var a=Rt(Cr),i=a.next();!i.done;i=a.next()){var l=i.value;this.adapter.registerDocumentInteractionHandler(l,this.deactivateHandler)}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=a.return)&&s.call(a)}finally{if(r)throw r.error}}},t.prototype.deregisterRootHandlers=function(){var n,r;try{for(var s=Rt(Lr),a=s.next();!a.done;a=s.next()){var i=a.value;this.adapter.deregisterInteractionHandler(i,this.activateHandler)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}this.adapter.deregisterInteractionHandler("focus",this.focusHandler),this.adapter.deregisterInteractionHandler("blur",this.blurHandler),this.adapter.isUnbounded()&&this.adapter.deregisterResizeHandler(this.resizeHandler)},t.prototype.deregisterDeactivationHandlers=function(){var n,r;this.adapter.deregisterInteractionHandler("keyup",this.deactivateHandler);try{for(var s=Rt(Cr),a=s.next();!a.done;a=s.next()){var i=a.value;this.adapter.deregisterDocumentInteractionHandler(i,this.deactivateHandler)}}catch(l){n={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}},t.prototype.removeCssVars=function(){var n=this,r=t.strings,s=Object.keys(r);s.forEach(function(a){a.indexOf("VAR_")===0&&n.adapter.updateCssVariable(r[a],null)})},t.prototype.activateImpl=function(n){var r=this;if(!this.adapter.isSurfaceDisabled()){var s=this.activationState;if(!s.isActivated){var a=this.previousActivationEvent,i=a&&n!==void 0&&a.type!==n.type;if(!i){s.isActivated=!0,s.isProgrammatic=n===void 0,s.activationEvent=n,s.wasActivatedByPointer=s.isProgrammatic?!1:n!==void 0&&(n.type==="mousedown"||n.type==="touchstart"||n.type==="pointerdown");var l=n!==void 0&&Ot.length>0&&Ot.some(function(o){return r.adapter.containsEventTarget(o)});if(l){this.resetActivationState();return}n!==void 0&&(Ot.push(n.target),this.registerDeactivationHandlers(n)),s.wasElementMadeActive=this.checkElementMadeActive(n),s.wasElementMadeActive&&this.animateActivation(),requestAnimationFrame(function(){Ot=[],!s.wasElementMadeActive&&n!==void 0&&(n.key===" "||n.keyCode===32)&&(s.wasElementMadeActive=r.checkElementMadeActive(n),s.wasElementMadeActive&&r.animateActivation()),s.wasElementMadeActive||(r.activationState=r.defaultActivationState())})}}}},t.prototype.checkElementMadeActive=function(n){return n!==void 0&&n.type==="keydown"?this.adapter.isSurfaceActive():!0},t.prototype.animateActivation=function(){var n=this,r=t.strings,s=r.VAR_FG_TRANSLATE_START,a=r.VAR_FG_TRANSLATE_END,i=t.cssClasses,l=i.FG_DEACTIVATION,o=i.FG_ACTIVATION,u=t.numbers.DEACTIVATION_TIMEOUT_MS;this.layoutInternal();var c="",p="";if(!this.adapter.isUnbounded()){var m=this.getFgTranslationCoordinates(),_=m.startPoint,f=m.endPoint;c=_.x+"px, "+_.y+"px",p=f.x+"px, "+f.y+"px"}this.adapter.updateCssVariable(s,c),this.adapter.updateCssVariable(a,p),clearTimeout(this.activationTimer),clearTimeout(this.fgDeactivationRemovalTimer),this.rmBoundedActivationClasses(),this.adapter.removeClass(l),this.adapter.computeBoundingRect(),this.adapter.addClass(o),this.activationTimer=setTimeout(function(){n.activationTimerCallback()},u)},t.prototype.getFgTranslationCoordinates=function(){var n=this.activationState,r=n.activationEvent,s=n.wasActivatedByPointer,a;s?a=Oc(r,this.adapter.getWindowPageOffset(),this.adapter.computeBoundingRect()):a={x:this.frame.width/2,y:this.frame.height/2},a={x:a.x-this.initialSize/2,y:a.y-this.initialSize/2};var i={x:this.frame.width/2-this.initialSize/2,y:this.frame.height/2-this.initialSize/2};return{startPoint:a,endPoint:i}},t.prototype.runDeactivationUXLogicIfReady=function(){var n=this,r=t.cssClasses.FG_DEACTIVATION,s=this.activationState,a=s.hasDeactivationUXRun,i=s.isActivated,l=a||!i;l&&this.activationAnimationHasEnded&&(this.rmBoundedActivationClasses(),this.adapter.addClass(r),this.fgDeactivationRemovalTimer=setTimeout(function(){n.adapter.removeClass(r)},vr.FG_DEACTIVATION_MS))},t.prototype.rmBoundedActivationClasses=function(){var n=t.cssClasses.FG_ACTIVATION;this.adapter.removeClass(n),this.activationAnimationHasEnded=!1,this.adapter.computeBoundingRect()},t.prototype.resetActivationState=function(){var n=this;this.previousActivationEvent=this.activationState.activationEvent,this.activationState=this.defaultActivationState(),setTimeout(function(){return n.previousActivationEvent=void 0},t.numbers.TAP_DELAY_MS)},t.prototype.deactivateImpl=function(){var n=this,r=this.activationState;if(r.isActivated){var s=qe({},r);r.isProgrammatic?(requestAnimationFrame(function(){n.animateDeactivation(s)}),this.resetActivationState()):(this.deregisterDeactivationHandlers(),requestAnimationFrame(function(){n.activationState.hasDeactivationUXRun=!0,n.animateDeactivation(s),n.resetActivationState()}))}},t.prototype.animateDeactivation=function(n){var r=n.wasActivatedByPointer,s=n.wasElementMadeActive;(r||s)&&this.runDeactivationUXLogicIfReady()},t.prototype.layoutInternal=function(){var n=this;this.frame=this.adapter.computeBoundingRect();var r=Math.max(this.frame.height,this.frame.width),s=function(){var i=Math.sqrt(Math.pow(n.frame.width,2)+Math.pow(n.frame.height,2));return i+t.numbers.PADDING};this.maxRadius=this.adapter.isUnbounded()?r:s();var a=Math.floor(r*t.numbers.INITIAL_ORIGIN_SCALE);this.adapter.isUnbounded()&&a%2!==0?this.initialSize=a-1:this.initialSize=a,this.fgScale=""+this.maxRadius/this.initialSize,this.updateLayoutCssVars()},t.prototype.updateLayoutCssVars=function(){var n=t.strings,r=n.VAR_FG_SIZE,s=n.VAR_LEFT,a=n.VAR_TOP,i=n.VAR_FG_SCALE;this.adapter.updateCssVariable(r,this.initialSize+"px"),this.adapter.updateCssVariable(i,this.fgScale),this.adapter.isUnbounded()&&(this.unboundedCoords={left:Math.round(this.frame.width/2-this.initialSize/2),top:Math.round(this.frame.height/2-this.initialSize/2)},this.adapter.updateCssVariable(s,this.unboundedCoords.left+"px"),this.adapter.updateCssVariable(a,this.unboundedCoords.top+"px"))},t}(ws);/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var yt={ICON_BUTTON_ON:"mdc-icon-button--on",ROOT:"mdc-icon-button"},Ae={ARIA_LABEL:"aria-label",ARIA_PRESSED:"aria-pressed",DATA_ARIA_LABEL_OFF:"data-aria-label-off",DATA_ARIA_LABEL_ON:"data-aria-label-on",CHANGE_EVENT:"MDCIconButtonToggle:change"};/**
 * @license
 * Copyright 2018 Google Inc.
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var Sc=function(e){Ps(t,e);function t(n){var r=e.call(this,qe(qe({},t.defaultAdapter),n))||this;return r.hasToggledAriaLabel=!1,r}return Object.defineProperty(t,"cssClasses",{get:function(){return yt},enumerable:!1,configurable:!0}),Object.defineProperty(t,"strings",{get:function(){return Ae},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultAdapter",{get:function(){return{addClass:function(){},hasClass:function(){return!1},notifyChange:function(){},removeClass:function(){},getAttr:function(){return null},setAttr:function(){}}},enumerable:!1,configurable:!0}),t.prototype.init=function(){var n=this.adapter.getAttr(Ae.DATA_ARIA_LABEL_ON),r=this.adapter.getAttr(Ae.DATA_ARIA_LABEL_OFF);if(n&&r){if(this.adapter.getAttr(Ae.ARIA_PRESSED)!==null)throw new Error("MDCIconButtonToggleFoundation: Button should not set `aria-pressed` if it has a toggled aria label.");this.hasToggledAriaLabel=!0}else this.adapter.setAttr(Ae.ARIA_PRESSED,String(this.isOn()))},t.prototype.handleClick=function(){this.toggle(),this.adapter.notifyChange({isOn:this.isOn()})},t.prototype.isOn=function(){return this.adapter.hasClass(yt.ICON_BUTTON_ON)},t.prototype.toggle=function(n){if(n===void 0&&(n=!this.isOn()),n?this.adapter.addClass(yt.ICON_BUTTON_ON):this.adapter.removeClass(yt.ICON_BUTTON_ON),this.hasToggledAriaLabel){var r=n?this.adapter.getAttr(Ae.DATA_ARIA_LABEL_ON):this.adapter.getAttr(Ae.DATA_ARIA_LABEL_OFF);this.adapter.setAttr(Ae.ARIA_LABEL,r||"")}else this.adapter.setAttr(Ae.ARIA_PRESSED,""+n)},t}(ws);function Mr(e){return Object.entries(e).filter(([t,n])=>t!==""&&n).map(([t])=>t).join(" ")}function Pr(e,t,n,r={bubbles:!0},s=!1){if(typeof Event<"u"&&e){const a=new CustomEvent(t,Object.assign(Object.assign({},r),{detail:n}));if(e==null||e.dispatchEvent(a),s&&t.startsWith("SMUI")){const i=new CustomEvent(t.replace(/^SMUI/g,()=>"MDC"),Object.assign(Object.assign({},r),{detail:n}));e==null||e.dispatchEvent(i),i.defaultPrevented&&a.preventDefault()}return a}}const wr=/^[a-z]+(?::(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/,Dc=/^[^$]+(?:\$(?:preventDefault|stopPropagation|passive|nonpassive|capture|once|self))+$/;function Fs(e){let t,n=[];e.$on=(s,a)=>{let i=s,l=()=>{};return t?l=t(i,a):n.push([i,a]),i.match(wr)&&console&&console.warn('Event modifiers in SMUI now use "$" instead of ":", so that all events can be bound with modifiers. Please update your event binding: ',i),()=>{l()}};function r(s){Re(e,s)}return s=>{const a=[],i={};t=(l,o)=>{let u=l,c=o,p=!1;const m=u.match(wr),_=u.match(Dc),f=m||_;if(u.match(/^SMUI:\w+:/)){const h=u.split(":");let R="";for(let D=0;D<h.length;D++)R+=D===h.length-1?":"+h[D]:h[D].split("-").map(v=>v.slice(0,1).toUpperCase()+v.slice(1)).join("");console.warn(`The event ${u.split("$")[0]} has been renamed to ${R.split("$")[0]}.`),u=R}if(f){const h=u.split(m?":":"$");u=h[0];const R=h.slice(1).reduce((D,v)=>(D[v]=!0,D),{});R.passive&&(p=p||{},p.passive=!0),R.nonpassive&&(p=p||{},p.passive=!1),R.capture&&(p=p||{},p.capture=!0),R.once&&(p=p||{},p.once=!0),R.preventDefault&&(c=Hs(c)),R.stopPropagation&&(c=qs(c))}const E=ue(s,u,c,p),b=()=>{E();const h=a.indexOf(b);h>-1&&a.splice(h,1)};return a.push(b),u in i||(i[u]=ue(s,u,r)),b};for(let l=0;l<n.length;l++)t(n[l][0],n[l][1]);return{destroy:()=>{for(let l=0;l<a.length;l++)a[l]();for(let l of Object.entries(i))l[1]()}}}}function Gs(e,t){let n=[];if(t)for(let r=0;r<t.length;r++){const s=t[r],a=Array.isArray(s)?s[0]:s;Array.isArray(s)&&s.length>1?n.push(a(e,s[1])):n.push(a(e))}return{update(r){if((r&&r.length||0)!=n.length)throw new Error("You must not change the length of an actions array.");if(r)for(let s=0;s<r.length;s++){const a=n[s];if(a&&a.update){const i=r[s];Array.isArray(i)&&i.length>1?a.update(i[1]):a.update()}}},destroy(){for(let r=0;r<n.length;r++){const s=n[r];s&&s.destroy&&s.destroy()}}}}const{applyPassive:St}=_c,{matches:Ac}=Ic;function Nr(e,{ripple:t=!0,surface:n=!1,unbounded:r=!1,disabled:s=!1,color:a,active:i,rippleElement:l,eventTarget:o,activeTarget:u,addClass:c=f=>e.classList.add(f),removeClass:p=f=>e.classList.remove(f),addStyle:m=(f,E)=>e.style.setProperty(f,E),initPromise:_=Promise.resolve()}={}){let f,E=Lt("SMUI:addLayoutListener"),b,h=i,R=o,D=u;function v(){n?(c("mdc-ripple-surface"),a==="primary"?(c("smui-ripple-surface--primary"),p("smui-ripple-surface--secondary")):a==="secondary"?(p("smui-ripple-surface--primary"),c("smui-ripple-surface--secondary")):(p("smui-ripple-surface--primary"),p("smui-ripple-surface--secondary"))):(p("mdc-ripple-surface"),p("smui-ripple-surface--primary"),p("smui-ripple-surface--secondary")),f&&h!==i&&(h=i,i?f.activate():i===!1&&f.deactivate()),t&&!f?(f=new yc({addClass:c,browserSupportsCssVars:()=>bc(window),computeBoundingRect:()=>(l||e).getBoundingClientRect(),containsEventTarget:L=>e.contains(L),deregisterDocumentInteractionHandler:(L,U)=>document.documentElement.removeEventListener(L,U,St()),deregisterInteractionHandler:(L,U)=>(o||e).removeEventListener(L,U,St()),deregisterResizeHandler:L=>window.removeEventListener("resize",L),getWindowPageOffset:()=>({x:window.pageXOffset,y:window.pageYOffset}),isSurfaceActive:()=>i??Ac(u||e,":active"),isSurfaceDisabled:()=>!!s,isUnbounded:()=>!!r,registerDocumentInteractionHandler:(L,U)=>document.documentElement.addEventListener(L,U,St()),registerInteractionHandler:(L,U)=>(o||e).addEventListener(L,U,St()),registerResizeHandler:L=>window.addEventListener("resize",L),removeClass:p,updateCssVariable:m}),_.then(()=>{f&&(f.init(),f.setUnbounded(r))})):f&&!t&&_.then(()=>{f&&(f.destroy(),f=void 0)}),f&&(R!==o||D!==u)&&(R=o,D=u,f.destroy(),requestAnimationFrame(()=>{f&&(f.init(),f.setUnbounded(r))})),!t&&r&&c("mdc-ripple-upgraded--unbounded")}v(),E&&(b=E(M));function M(){f&&f.layout()}return{update(L){({ripple:t,surface:n,unbounded:r,disabled:s,color:a,active:i,rippleElement:l,eventTarget:o,activeTarget:u,addClass:c,removeClass:p,addStyle:m,initPromise:_}=Object.assign({ripple:!0,surface:!1,unbounded:!1,disabled:!1,color:void 0,active:void 0,rippleElement:void 0,eventTarget:void 0,activeTarget:void 0,addClass:U=>e.classList.add(U),removeClass:U=>e.classList.remove(U),addStyle:(U,A)=>e.style.setProperty(U,A),initPromise:Promise.resolve()},L)),v()},destroy(){f&&(f.destroy(),f=void 0,p("mdc-ripple-surface"),p("smui-ripple-surface--primary"),p("smui-ripple-surface--secondary")),b&&b()}}}function vc(e){let t=e[1],n,r,s=e[1]&&rn(e);return{c(){s&&s.c(),n=ft()},m(a,i){s&&s.m(a,i),w(a,n,i),r=!0},p(a,i){a[1]?t?Ne(t,a[1])?(s.d(1),s=rn(a),s.c(),s.m(n.parentNode,n)):s.p(a,i):(s=rn(a),s.c(),s.m(n.parentNode,n)):t&&(s.d(1),s=null),t=a[1]},i(a){r||(W(s),r=!0)},o(a){j(s),r=!1},d(a){a&&N(n),s&&s.d(a)}}}function Lc(e){let t=e[1],n,r=e[1]&&sn(e);return{c(){r&&r.c(),n=ft()},m(s,a){r&&r.m(s,a),w(s,n,a)},p(s,a){s[1]?t?Ne(t,s[1])?(r.d(1),r=sn(s),r.c(),r.m(n.parentNode,n)):r.p(s,a):(r=sn(s),r.c(),r.m(n.parentNode,n)):t&&(r.d(1),r=null),t=s[1]},i:Se,o:Se,d(s){s&&N(n),r&&r.d(s)}}}function rn(e){let t,n,r,s,a;const i=e[8].default,l=nt(i,e,e[7],null);let o=[e[5]],u={};for(let c=0;c<o.length;c+=1)u=ce(u,o[c]);return{c(){t=H(e[1]),l&&l.c(),/-/.test(e[1])?Ct(t,u):xe(t,u)},m(c,p){w(c,t,p),l&&l.m(t,null),e[10](t),r=!0,s||(a=[Ke(n=Gs.call(null,t,e[0])),Ke(e[4].call(null,t))],s=!0)},p(c,p){l&&l.p&&(!r||p&128)&&rt(l,i,c,c[7],r?it(i,c[7],p,null):st(c[7]),null),u=Ft(o,[p&32&&c[5]]),/-/.test(c[1])?Ct(t,u):xe(t,u),n&&kr(n.update)&&p&1&&n.update.call(null,c[0])},i(c){r||(W(l,c),r=!0)},o(c){j(l,c),r=!1},d(c){c&&N(t),l&&l.d(c),e[10](null),s=!1,gn(a)}}}function sn(e){let t,n,r,s,a=[e[5]],i={};for(let l=0;l<a.length;l+=1)i=ce(i,a[l]);return{c(){t=H(e[1]),/-/.test(e[1])?Ct(t,i):xe(t,i)},m(l,o){w(l,t,o),e[9](t),r||(s=[Ke(n=Gs.call(null,t,e[0])),Ke(e[4].call(null,t))],r=!0)},p(l,o){i=Ft(a,[o&32&&l[5]]),/-/.test(l[1])?Ct(t,i):xe(t,i),n&&kr(n.update)&&o&1&&n.update.call(null,l[0])},d(l){l&&N(t),e[9](null),r=!1,gn(s)}}}function Cc(e){let t,n,r,s;const a=[Lc,vc],i=[];function l(o,u){return o[3]?0:1}return t=l(e),n=i[t]=a[t](e),{c(){n.c(),r=ft()},m(o,u){i[t].m(o,u),w(o,r,u),s=!0},p(o,[u]){let c=t;t=l(o),t===c?i[t].p(o,u):(Gt(),j(i[c],1,1,()=>{i[c]=null}),Ut(),n=i[t],n?n.p(o,u):(n=i[t]=a[t](o),n.c()),W(n,1),n.m(r.parentNode,r))},i(o){s||(W(n),s=!0)},o(o){j(n),s=!1},d(o){i[t].d(o),o&&N(r)}}}function Mc(e,t,n){let r;const s=["use","tag","getElement"];let a=Qe(t,s),{$$slots:i={},$$scope:l}=t,{use:o=[]}=t,{tag:u}=t;const c=Fs(qr());let p;function m(){return p}function _(E){Ze[E?"unshift":"push"](()=>{p=E,n(2,p)})}function f(E){Ze[E?"unshift":"push"](()=>{p=E,n(2,p)})}return e.$$set=E=>{t=ce(ce({},t),we(E)),n(5,a=Qe(t,s)),"use"in E&&n(0,o=E.use),"tag"in E&&n(1,u=E.tag),"$$scope"in E&&n(7,l=E.$$scope)},e.$$.update=()=>{e.$$.dirty&2&&n(3,r=["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"].indexOf(u)>-1)},[o,u,p,r,c,a,m,l,i,_,f]}class Fr extends et{constructor(t){super(),tt(this,t,Mc,Cc,Ne,{use:0,tag:1,getElement:6})}get getElement(){return this.$$.ctx[6]}}function Gr(e){let t;return{c(){t=H("div"),q(t,"class","mdc-icon-button__touch")},m(n,r){w(n,t,r)},d(n){n&&N(t)}}}function Pc(e){let t,n,r,s;const a=e[33].default,i=nt(a,e,e[37],null);let l=e[8]&&Gr();return{c(){t=H("div"),n=X(),i&&i.c(),l&&l.c(),r=ft(),q(t,"class","mdc-icon-button__ripple")},m(o,u){w(o,t,u),w(o,n,u),i&&i.m(o,u),l&&l.m(o,u),w(o,r,u),s=!0},p(o,u){i&&i.p&&(!s||u[1]&64)&&rt(i,a,o,o[37],s?it(a,o[37],u,null):st(o[37]),null),o[8]?l||(l=Gr(),l.c(),l.m(r.parentNode,r)):l&&(l.d(1),l=null)},i(o){s||(W(i,o),s=!0)},o(o){j(i,o),s=!1},d(o){o&&N(t),o&&N(n),i&&i.d(o),l&&l.d(o),o&&N(r)}}}function wc(e){let t,n,r;const s=[{tag:e[14]},{use:[[Nr,{ripple:e[4],unbounded:!0,color:e[5],disabled:!!e[29].disabled,addClass:e[26],removeClass:e[27],addStyle:e[28]}],e[22],...e[1]]},{class:Mr({[e[2]]:!0,"mdc-icon-button":!0,"mdc-icon-button--on":!e[23](e[0])&&e[0],"mdc-icon-button--touch":e[8],"mdc-icon-button--display-flex":e[9],"smui-icon-button--size-button":e[10]==="button","smui-icon-button--size-mini":e[10]==="mini","mdc-icon-button--reduced-size":e[10]==="mini"||e[10]==="button","mdc-card__action":e[24]==="card:action","mdc-card__action--icon":e[24]==="card:action","mdc-top-app-bar__navigation-icon":e[24]==="top-app-bar:navigation","mdc-top-app-bar__action-item":e[24]==="top-app-bar:action","mdc-snackbar__dismiss":e[24]==="snackbar:actions","mdc-data-table__pagination-button":e[24]==="data-table:pagination","mdc-data-table__sort-icon-button":e[24]==="data-table:sortable-header-cell","mdc-dialog__close":(e[24]==="dialog:header"||e[24]==="dialog:sheet")&&e[12]==="close",...e[18]})},{style:Object.entries(e[19]).map(Ur).concat([e[3]]).join(" ")},{"aria-pressed":e[23](e[0])?null:e[0]?"true":"false"},{"aria-label":e[0]?e[6]:e[7]},{"data-aria-label-on":e[6]},{"data-aria-label-off":e[7]},{"aria-describedby":e[25]},{href:e[11]},e[21],e[20],e[29]];var a=e[13];function i(l){let o={$$slots:{default:[Pc]},$$scope:{ctx:l}};for(let u=0;u<s.length;u+=1)o=ce(o,s[u]);return{props:o}}return a&&(t=Pn(a,i(e)),e[34](t),t.$on("click",e[35]),t.$on("click",e[36])),{c(){t&&pe(t.$$.fragment),n=ft()},m(l,o){t&&me(t,l,o),w(l,n,o),r=!0},p(l,o){const u=o[0]&1073504255?Ft(s,[o[0]&16384&&{tag:l[14]},o[0]&1010827314&&{use:[[Nr,{ripple:l[4],unbounded:!0,color:l[5],disabled:!!l[29].disabled,addClass:l[26],removeClass:l[27],addStyle:l[28]}],l[22],...l[1]]},o[0]&25433861&&{class:Mr({[l[2]]:!0,"mdc-icon-button":!0,"mdc-icon-button--on":!l[23](l[0])&&l[0],"mdc-icon-button--touch":l[8],"mdc-icon-button--display-flex":l[9],"smui-icon-button--size-button":l[10]==="button","smui-icon-button--size-mini":l[10]==="mini","mdc-icon-button--reduced-size":l[10]==="mini"||l[10]==="button","mdc-card__action":l[24]==="card:action","mdc-card__action--icon":l[24]==="card:action","mdc-top-app-bar__navigation-icon":l[24]==="top-app-bar:navigation","mdc-top-app-bar__action-item":l[24]==="top-app-bar:action","mdc-snackbar__dismiss":l[24]==="snackbar:actions","mdc-data-table__pagination-button":l[24]==="data-table:pagination","mdc-data-table__sort-icon-button":l[24]==="data-table:sortable-header-cell","mdc-dialog__close":(l[24]==="dialog:header"||l[24]==="dialog:sheet")&&l[12]==="close",...l[18]})},o[0]&524296&&{style:Object.entries(l[19]).map(Ur).concat([l[3]]).join(" ")},o[0]&8388609&&{"aria-pressed":l[23](l[0])?null:l[0]?"true":"false"},o[0]&193&&{"aria-label":l[0]?l[6]:l[7]},o[0]&64&&{"data-aria-label-on":l[6]},o[0]&128&&{"data-aria-label-off":l[7]},o[0]&33554432&&{"aria-describedby":l[25]},o[0]&2048&&{href:l[11]},o[0]&2097152&&jt(l[21]),o[0]&1048576&&jt(l[20]),o[0]&536870912&&jt(l[29])]):{};if(o[0]&256|o[1]&64&&(u.$$scope={dirty:o,ctx:l}),a!==(a=l[13])){if(t){Gt();const c=t;j(c.$$.fragment,1,0,()=>{Ee(c,1)}),Ut()}a?(t=Pn(a,i(l)),l[34](t),t.$on("click",l[35]),t.$on("click",l[36]),pe(t.$$.fragment),W(t.$$.fragment,1),me(t,n.parentNode,n)):t=null}else a&&t.$set(u)},i(l){r||(t&&W(t.$$.fragment,l),r=!0)},o(l){t&&j(t.$$.fragment,l),r=!1},d(l){e[34](null),l&&N(n),t&&Ee(t,l)}}}const Ur=([e,t])=>`${e}: ${t};`;function Nc(e,t,n){let r;const s=["use","class","style","ripple","color","toggle","pressed","ariaLabelOn","ariaLabelOff","touch","displayFlex","size","href","action","component","tag","getElement"];let a=Qe(t,s),{$$slots:i={},$$scope:l}=t;const o=Fs(qr());let u=()=>{};function c(C){return C===u}let{use:p=[]}=t,{class:m=""}=t,{style:_=""}=t,{ripple:f=!0}=t,{color:E=void 0}=t,{toggle:b=!1}=t,{pressed:h=u}=t,{ariaLabelOn:R=void 0}=t,{ariaLabelOff:D=void 0}=t,{touch:v=!1}=t,{displayFlex:M=!0}=t,{size:L="normal"}=t,{href:U=void 0}=t,{action:A=void 0}=t,O,P,g={},F={},z={},d=Lt("SMUI:icon-button:context"),y=Lt("SMUI:icon-button:aria-describedby"),{component:I=Fr}=t,{tag:S=I===Fr?U==null?"button":"a":void 0}=t,B=a.disabled;Vr("SMUI:icon:context","icon-button");let G=null;Hr(()=>{P&&P.destroy()});function Y(C){return C in g?g[C]:Q().classList.contains(C)}function x(C){g[C]||n(18,g[C]=!0,g)}function Ye(C){(!(C in g)||g[C])&&n(18,g[C]=!1,g)}function Wt(C,Te){F[C]!=Te&&(Te===""||Te==null?(delete F[C],n(19,F)):n(19,F[C]=Te,F))}function De(C){var Te;return C in z?(Te=z[C])!==null&&Te!==void 0?Te:null:Q().getAttribute(C)}function Xt(C,Te){z[C]!==Te&&n(20,z[C]=Te,z)}function k(C){n(0,h=C.isOn)}function Q(){return O.getElement()}function Ie(C){Ze[C?"unshift":"push"](()=>{O=C,n(16,O)})}const Ce=()=>P&&P.handleClick(),se=()=>d==="top-app-bar:navigation"&&Pr(Q(),"SMUITopAppBarIconButton:nav");return e.$$set=C=>{t=ce(ce({},t),we(C)),n(29,a=Qe(t,s)),"use"in C&&n(1,p=C.use),"class"in C&&n(2,m=C.class),"style"in C&&n(3,_=C.style),"ripple"in C&&n(4,f=C.ripple),"color"in C&&n(5,E=C.color),"toggle"in C&&n(30,b=C.toggle),"pressed"in C&&n(0,h=C.pressed),"ariaLabelOn"in C&&n(6,R=C.ariaLabelOn),"ariaLabelOff"in C&&n(7,D=C.ariaLabelOff),"touch"in C&&n(8,v=C.touch),"displayFlex"in C&&n(9,M=C.displayFlex),"size"in C&&n(10,L=C.size),"href"in C&&n(11,U=C.href),"action"in C&&n(12,A=C.action),"component"in C&&n(13,I=C.component),"tag"in C&&n(14,S=C.tag),"$$scope"in C&&n(37,l=C.$$scope)},e.$$.update=()=>{if(e.$$.dirty[0]&4096&&n(21,r=(()=>{if(d==="data-table:pagination")switch(A){case"first-page":return{"data-first-page":"true"};case"prev-page":return{"data-prev-page":"true"};case"next-page":return{"data-next-page":"true"};case"last-page":return{"data-last-page":"true"};default:return{"data-action":"true"}}else return d==="dialog:header"||d==="dialog:sheet"?{"data-mdc-dialog-action":A}:{action:A}})()),B!==a.disabled){const C=Q();"blur"in C&&C.blur(),n(31,B=a.disabled)}e.$$.dirty[0]&1073938432|e.$$.dirty[1]&2&&O&&Q()&&b!==G&&(b&&!P?(n(17,P=new Sc({addClass:x,hasClass:Y,notifyChange:C=>{k(C),Pr(Q(),"SMUIIconButtonToggle:change",C,void 0,!0)},removeClass:Ye,getAttr:De,setAttr:Xt})),P.init()):!b&&P&&(P.destroy(),n(17,P=void 0),n(18,g={}),n(20,z={})),n(32,G=b)),e.$$.dirty[0]&131073&&P&&!c(h)&&P.isOn()!==h&&P.toggle(h)},[h,p,m,_,f,E,R,D,v,M,L,U,A,I,S,Q,O,P,g,F,z,r,o,c,d,y,x,Ye,Wt,a,b,B,G,i,Ie,Ce,se,l]}class Us extends et{constructor(t){super(),tt(this,t,Nc,wc,Ne,{use:1,class:2,style:3,ripple:4,color:5,toggle:30,pressed:0,ariaLabelOn:6,ariaLabelOff:7,touch:8,displayFlex:9,size:10,href:11,action:12,component:13,tag:14,getElement:15},null,[-1,-1])}get getElement(){return this.$$.ctx[15]}}function Fc(e){let t,n;return t=new zr({props:{path:Yr}}),{c(){pe(t.$$.fragment)},m(r,s){me(t,r,s),n=!0},p:Se,i(r){n||(W(t.$$.fragment,r),n=!0)},o(r){j(t.$$.fragment,r),n=!1},d(r){Ee(t,r)}}}function Gc(e){let t,n,r,s,a,i,l,o,u,c,p,m,_,f,E,b,h,R,D,v=e[3].detail+"",M,L,U,A,O,P,g,F;h=new Us({props:{class:"material-icons",$$slots:{default:[Fc]},$$scope:{ctx:e}}}),h.$on("click",e[9]);let z={name:"file",onerror:e[8],onremovefile:e[10],server:e[6],allowMultiple:!1,onaddfile:Bs};return g=new Ms({props:z}),e[11](g),{c(){t=H("center"),t.innerHTML="<b><h3>Classification Networks for Cats</h3></b>",n=X(),r=H("h5"),r.textContent="Overview",s=X(),a=H("p"),a.innerHTML=`We need to distinguish cats from cat-like animals.<br/>
            This task is crucial to the mankind in order to not get eaten by tigers and lions.<br/>
            Develop the best classification networks for cats and save the mankind!
            <br/><br/>`,i=X(),l=H("h5"),l.textContent="Challenge",o=X(),u=H("p"),u.innerHTML=`Submit the best trained model using one of (PyTorch, Tensorflow) that classifies cat pictures<br/>
            You have to submit the full model, not just weights.<br/> 
            <strong>For PyTorch: use predefined model in torchvision, not your custom model<br/>  
            For PyTorch: torch.save(model, PATH)<br/>
            For Tensorflow: model.save(&quot;ANYNAME.h5&quot;)</strong><br/><br/>`,c=X(),p=H("h5"),p.textContent="Evaluation",m=X(),_=H("p"),_.innerHTML=`Your model has to take an input as a shape of (299, 299, 3).<br/>
            Your model will be run and graded with F-1 score.
            <br/><br/>`,f=X(),E=H("h5"),b=dt("Progress "),pe(h.$$.fragment),R=X(),D=H("p"),M=dt(v),L=H("br"),U=H("br"),A=X(),O=H("h5"),O.textContent="Submit",P=X(),pe(g.$$.fragment),q(r,"class","border-bottom"),q(l,"class","border-bottom"),q(p,"class","border-bottom"),q(E,"class","border-bottom"),q(O,"class","border-bottom")},m(d,y){w(d,t,y),w(d,n,y),w(d,r,y),w(d,s,y),w(d,a,y),w(d,i,y),w(d,l,y),w(d,o,y),w(d,u,y),w(d,c,y),w(d,p,y),w(d,m,y),w(d,_,y),w(d,f,y),w(d,E,y),fe(E,b),me(h,E,null),w(d,R,y),w(d,D,y),fe(D,M),fe(D,L),fe(D,U),w(d,A,y),w(d,O,y),w(d,P,y),me(g,d,y),F=!0},p(d,y){const I={};y&4194304&&(I.$$scope={dirty:y,ctx:d}),h.$set(I),(!F||y&8)&&v!==(v=d[3].detail+"")&&hn(M,v);const S={};y&16&&(S.onremovefile=d[10]),y&64&&(S.server=d[6]),g.$set(S)},i(d){F||(W(h.$$.fragment,d),W(g.$$.fragment,d),F=!0)},o(d){j(h.$$.fragment,d),j(g.$$.fragment,d),F=!1},d(d){d&&N(t),d&&N(n),d&&N(r),d&&N(s),d&&N(a),d&&N(i),d&&N(l),d&&N(o),d&&N(u),d&&N(c),d&&N(p),d&&N(m),d&&N(_),d&&N(f),d&&N(E),Ee(h),d&&N(R),d&&N(D),d&&N(A),d&&N(O),d&&N(P),e[11](null),Ee(g,d)}}}function Uc(e){let t;return{c(){t=H("div"),t.innerHTML=`<svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"></path></svg>
            Cat Classification`,q(t,"slot","title"),q(t,"class","flex items-center gap-2")},m(n,r){w(n,t,r)},p:Se,d(n){n&&N(t)}}}function Bc(e){let t,n;return t=new zr({props:{path:Yr}}),{c(){pe(t.$$.fragment)},m(r,s){me(t,r,s),n=!0},p:Se,i(r){n||(W(t.$$.fragment,r),n=!0)},o(r){j(t.$$.fragment,r),n=!1},d(r){Ee(t,r)}}}function Vc(e){let t,n,r,s,a,i,l,o,u,c,p,m,_,f,E,b,h,R,D,v=e[3].detail+"",M,L,U,A,O,P,g,F;h=new Us({props:{class:"material-icons",$$slots:{default:[Bc]},$$scope:{ctx:e}}}),h.$on("click",e[9]);let z={name:"file",onerror:e[8],onremovefile:e[13],server:e[5],allowMultiple:!1,onaddfile:Bs};return g=new Ms({props:z}),e[14](g),{c(){t=H("center"),t.innerHTML="<b><h3>Generative Adversarial Networks for Cats</h3></b>",n=X(),r=H("h5"),r.textContent="Overview",s=X(),a=H("p"),a.innerHTML="We need more cats in the world.<br/>So why not generate them ourselves?<br/>I mean, who doesn&#39;t like cat pictures?<br/><br/>",i=X(),l=H("h5"),l.textContent="Challenge",o=X(),u=H("p"),u.innerHTML=`Submit the best trained model using one of (PyTorch, Tensorflow) that generates cat pictures<br/>
            You have to submit the full model, not just weights.<br/> 
            <strong>For PyTorch: use predefined model in torchvision, not your custom model<br/>
              For PyTorch: torch.save(model, PATH)<br/>
              For Tensorflow: model.save(&quot;ANYNAME.h5&quot;)</strong><br/><br/>`,c=X(),p=H("h5"),p.textContent="Evaluation",m=X(),_=H("p"),_.innerHTML=`Your model will be given random vector of 128 elements as an input and need to produce (299, 299, 3) as an output shape.
            <br/>The output of your model will be fed to <a href="https://www.tensorflow.org/versions/r2.10/api_docs/python/tf/keras/applications/xception/Xception" target="_blank" rel="noreferrer">Xception</a> with weights=&quot;imagenet&quot;.
            <br/>Your model will be run 100 times, and graded as ((number of cat predicted in top-5) / 100)%
            <br/><br/>`,f=X(),E=H("h5"),b=dt("Progress "),pe(h.$$.fragment),R=X(),D=H("p"),M=dt(v),L=H("br"),U=H("br"),A=X(),O=H("h5"),O.textContent="Submit",P=X(),pe(g.$$.fragment),q(r,"class","border-bottom"),q(l,"class","border-bottom"),q(p,"class","border-bottom"),q(E,"class","border-bottom"),q(O,"class","border-bottom")},m(d,y){w(d,t,y),w(d,n,y),w(d,r,y),w(d,s,y),w(d,a,y),w(d,i,y),w(d,l,y),w(d,o,y),w(d,u,y),w(d,c,y),w(d,p,y),w(d,m,y),w(d,_,y),w(d,f,y),w(d,E,y),fe(E,b),me(h,E,null),w(d,R,y),w(d,D,y),fe(D,M),fe(D,L),fe(D,U),w(d,A,y),w(d,O,y),w(d,P,y),me(g,d,y),F=!0},p(d,y){const I={};y&4194304&&(I.$$scope={dirty:y,ctx:d}),h.$set(I),(!F||y&8)&&v!==(v=d[3].detail+"")&&hn(M,v);const S={};y&16&&(S.onremovefile=d[13]),y&32&&(S.server=d[5]),g.$set(S)},i(d){F||(W(h.$$.fragment,d),W(g.$$.fragment,d),F=!0)},o(d){j(h.$$.fragment,d),j(g.$$.fragment,d),F=!1},d(d){d&&N(t),d&&N(n),d&&N(r),d&&N(s),d&&N(a),d&&N(i),d&&N(l),d&&N(o),d&&N(u),d&&N(c),d&&N(p),d&&N(m),d&&N(_),d&&N(f),d&&N(E),Ee(h),d&&N(R),d&&N(D),d&&N(A),d&&N(O),d&&N(P),e[14](null),Ee(g,d)}}}function Hc(e){let t;return{c(){t=H("div"),t.innerHTML=`<svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5 4a1 1 0 00-2 0v7.268a2 2 0 000 3.464V16a1 1 0 102 0v-1.268a2 2 0 000-3.464V4zM11 4a1 1 0 10-2 0v1.268a2 2 0 000 3.464V16a1 1 0 102 0V8.732a2 2 0 000-3.464V4zM16 3a1 1 0 011 1v7.268a2 2 0 010 3.464V16a1 1 0 11-2 0v-1.268a2 2 0 010-3.464V4a1 1 0 011-1z"></path></svg>
            Cat GAN`,q(t,"slot","title"),q(t,"class","flex items-center gap-2")},m(n,r){w(n,t,r)},p:Se,d(n){n&&N(t)}}}function qc(e){let t,n;return{c(){t=H("p"),t.innerHTML=`<center><img src="/assets/runcat.gif" alt="running cat"/></center> 
            `,n=H("p"),n.innerHTML="<strong>Coming soon!</strong><br/>Imagine training the best cat in the world.<br/>It&#39;s the coolest thing the mankind can do.",q(t,"class","text-sm text-gray-500 dark:text-gray-400")},m(r,s){w(r,t,s),w(r,n,s)},p:Se,d(r){r&&N(t),r&&N(n)}}}function kc(e){let t;return{c(){t=H("div"),t.innerHTML=`<svg aria-hidden="true" class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"></path><path fill-rule="evenodd" d="M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm3 4a1 1 0 000 2h.01a1 1 0 100-2H7zm3 0a1 1 0 000 2h3a1 1 0 100-2h-3zm-3 4a1 1 0 100 2h.01a1 1 0 100-2H7zm3 0a1 1 0 100 2h3a1 1 0 100-2h-3z" clip-rule="evenodd"></path></svg>
            Cat RL`,q(t,"slot","title"),q(t,"class","flex items-center gap-2")},m(n,r){w(n,t,r)},p:Se,d(n){n&&N(t)}}}function zc(e){let t,n,r,s,a,i;return t=new Qt({props:{open:!0,$$slots:{title:[Uc],default:[Gc]},$$scope:{ctx:e}}}),t.$on("click",e[12]),r=new Qt({props:{$$slots:{title:[Hc],default:[Vc]},$$scope:{ctx:e}}}),r.$on("click",e[15]),a=new Qt({props:{$$slots:{title:[kc],default:[qc]},$$scope:{ctx:e}}}),a.$on("click",e[16]),{c(){pe(t.$$.fragment),n=X(),pe(r.$$.fragment),s=X(),pe(a.$$.fragment)},m(l,o){me(t,l,o),w(l,n,o),me(r,l,o),w(l,s,o),me(a,l,o),i=!0},p(l,o){const u={};o&4194393&&(u.$$scope={dirty:o,ctx:l}),t.$set(u);const c={};o&4194362&&(c.$$scope={dirty:o,ctx:l}),r.$set(c);const p={};o&4194304&&(p.$$scope={dirty:o,ctx:l}),a.$set(p)},i(l){i||(W(t.$$.fragment,l),W(r.$$.fragment,l),W(a.$$.fragment,l),i=!0)},o(l){j(t.$$.fragment,l),j(r.$$.fragment,l),j(a.$$.fragment,l),i=!1},d(l){Ee(t,l),l&&N(n),Ee(r,l),l&&N(s),Ee(a,l)}}}function Yc(e){let t,n,r,s,a;return n=new Xs({props:{error:e[7]}}),s=new si({props:{style:"underline",$$slots:{default:[zc]},$$scope:{ctx:e}}}),{c(){t=H("div"),pe(n.$$.fragment),r=X(),pe(s.$$.fragment),q(t,"class","container my-3")},m(i,l){w(i,t,l),me(n,t,null),fe(t,r),me(s,t,null),a=!0},p(i,[l]){const o={};l&4194431&&(o.$$scope={dirty:l,ctx:i}),s.$set(o)},i(i){a||(W(n.$$.fragment,i),W(s.$$.fragment,i),a=!0)},o(i){j(n.$$.fragment,i),j(s.$$.fragment,i),a=!1},d(i){i&&N(t),Ee(n),Ee(s)}}}function Bs(e,t){if(t.fileSize>=100*1024*1024)return t.abortLoad(),t.abortProcessing(),alert("File too big!!"),!1}function Wc(e,t,n){let r,s,a;xt(e,ks,O=>n(17,r=O)),xt(e,zs,O=>n(18,s=O)),xt(e,Ys,O=>n(19,a=O));let i,l,o="classification",u={detail:"Loading..."},c={detail:[]},p=!1,m={url:"",process:{url:"/api/chall/upload/",method:"POST",withCredentials:!0,headers:{Authorization:"Bearer "+a},timeout:1e7,onload:null,onerror:null,ondata:null}},_=JSON.parse(JSON.stringify(m)),f=JSON.parse(JSON.stringify(m));_.process.url="/api/chall/upload/gan",f.process.url="/api/chall/upload/classification";function E(){Ws(),s?alert("Error occurred! maybe try with smaller models?"):r("/login")}function b(){if(n(4,p=!0),n(3,u={detail:"Loading..."}),o=="rl")return;let O=o;mt("get","/api/chall/progress/"+o,{},P=>{O==o&&n(3,u=P)},P=>{O==o&&n(3,u=P)}),h()}function h(){if(o=="rl")return;let O=o;mt("get","/api/chall/get/"+o,{},P=>{if(O==o){let g={type:"local",file:{name:P.file_name,size:P.file_size}};o=="gan"?l.addFile(P.source,g):o=="classification"&&i.addFile(P.source,g)}},P=>{})}s||r("/login"),b(),p=!1;const R=O=>{p||mt("delete","/api/chall/cancel/classification"),n(4,p=!1)};function D(O){Ze[O?"unshift":"push"](()=>{i=O,n(0,i)})}const v=()=>{n(2,o="classification"),b()},M=O=>{p||mt("delete","/api/chall/cancel/gan"),n(4,p=!1)};function L(O){Ze[O?"unshift":"push"](()=>{l=O,n(1,l)})}return[i,l,o,u,p,_,f,c,E,b,R,D,v,M,L,()=>{n(2,o="gan"),b()},()=>n(2,o="rl")]}class xc extends et{constructor(t){super(),tt(this,t,Wc,Yc,Ne,{})}}export{xc as default};
