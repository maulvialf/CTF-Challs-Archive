import{S as J,i as K,s as L,e as u,b as w,R as M,C as N,f as s,h as O,j as t,T as Q,a4 as S,l as W,t as U,p as x,r as $,V as ee,v as te,W as j,ah as A,X as se,Y as B,ac as F,af as G,Z as H,$ as Y,a7 as I}from"./index-fc71ad6b.js";import{E as re}from"./Error-74362572.js";function ne(n){let i,r,v,c,D,l,f,b,C,o,g,p,k,P,m,T,h,E,V,e,y,d,_,q,X,Z;return c=new re({props:{error:n[0]}}),{c(){i=u("div"),r=u("h5"),r.textContent="Register",v=w(),M(c.$$.fragment),D=w(),l=u("form"),f=u("div"),b=u("label"),b.textContent="ID",C=w(),o=u("input"),g=w(),p=u("div"),k=u("label"),k.textContent="Password",P=w(),m=u("input"),T=w(),h=u("div"),E=u("label"),E.textContent="Confirm password",V=w(),e=u("input"),y=w(),d=u("button"),_=N("Register"),s(r,"class","my-3 border-bottom pb-2"),s(b,"for","username"),s(o,"type","text"),s(o,"class","form-control my-1"),s(o,"id","username"),s(f,"class","mb-3"),s(k,"for","password"),s(m,"type","password"),s(m,"class","form-control my-1"),s(m,"id","password"),s(p,"class","mb-3"),s(E,"for","password_confirm"),s(e,"type","password"),s(e,"class","form-control my-1"),s(e,"id","password_confirm"),s(h,"class","mb-3"),s(d,"type","submit"),s(d,"class","btn btn-primary"),d.disabled=n[4],s(l,"method","post"),s(i,"class","container")},m(a,R){O(a,i,R),t(i,r),t(i,v),Q(c,i,null),t(i,D),t(i,l),t(l,f),t(f,b),t(f,C),t(f,o),S(o,n[1]),t(l,g),t(l,p),t(p,k),t(p,P),t(p,m),S(m,n[2]),t(l,T),t(l,h),t(h,E),t(h,V),t(h,e),S(e,n[3]),t(l,y),t(l,d),t(d,_),q=!0,X||(Z=[W(o,"input",n[6]),W(m,"input",n[7]),W(e,"input",n[8]),W(d,"click",n[5])],X=!0)},p(a,[R]){const z={};R&1&&(z.error=a[0]),c.$set(z),R&2&&o.value!==a[1]&&S(o,a[1]),R&4&&m.value!==a[2]&&S(m,a[2]),R&8&&e.value!==a[3]&&S(e,a[3]),(!q||R&16)&&(d.disabled=a[4])},i(a){q||(U(c.$$.fragment,a),q=!0)},o(a){x(c.$$.fragment,a),q=!1},d(a){a&&$(i),ee(c),X=!1,te(Z)}}}function ae(n,i,r){let v,c,D,l,f,b;j(n,A,e=>r(9,v=e)),j(n,se,e=>r(10,c=e)),j(n,B,e=>r(11,D=e)),j(n,F,e=>r(12,l=e)),j(n,G,e=>r(13,f=e)),j(n,H,e=>r(14,b=e));let C={detail:[]},o="",g="",p="",k=!1;function P(){Y("get","/api/user/check_ip",{},y=>{},y=>{r(4,k=!0),r(0,C=y)})}function m(e){e.preventDefault(),Y("post","/api/user/register",{username:o,password:g,password_confirm:p},_=>{T(e)},_=>{r(0,C=_)})}function T(e){e.preventDefault(),Y("login","/api/user/login",{username:o,password:g},_=>{I(H,b=_.access_token,b),I(G,f=_.username,f),I(F,l=_.user_idx,l),I(B,D=!0,D),c("/"+v),I(A,v="",v)},_=>{r(0,C=_)})}P();function h(){o=this.value,r(1,o)}function E(){g=this.value,r(2,g)}function V(){p=this.value,r(3,p)}return[C,o,g,p,k,m,h,E,V]}class ue extends J{constructor(i){super(),K(this,i,ae,ne,L,{})}}export{ue as default};
